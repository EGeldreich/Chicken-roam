@let(pageJS = 'resources/js/pages/plan.js')
@let(pageStyle = 'resources/css/pages-css/plan.css')
@let(description = "Create your own chicken run plan with personnalized objectives.")
@let(title = plan.name)
@include('partials/header')

<script>
  // Pass server-side data to JavaScript
  window.PLAN_ID = {{ plan.id }};
  
  window.PLAN_STATE = "{{ plan.state || 'construction' }}";
  
  window.IS_ENCLOSED = {{ plan.isEnclosed ? 'true' : 'false' }};
</script>

{{-- Whole page container --}}
<main class="relative h-screen w-screen overflow-hidden text-bamboo-950">

  {{-- Main Canvas Area // Takes whole screen --}}
  <div class="absolute inset-0 z-5">
    <div class="viewport-container">
      <div
        id="planCanvas"
        class="canvas-content w-full h-full bg-bamboo-100 relative state-{{ plan.state || 'construction' }}"
      >
      </div>
    </div>
  </div>

  {{-- Interface --}}

  {{-- Top left menu --}}
  <div class="absolute top-4 left-4 z-10 flex w-auto gap-2">

    <div class="bg-white rounded-md flex gap-4 px-2 py-1 items-center w-auto min-w-80">
      <a href="{{ route('user-page') }}" type="button" aria-label="user page" class=" arrow-btn">
        <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12.3581 17.3326C12.0664 17.3326 11.7747 17.2076 11.5664 16.9659C9.03306 13.9992 5.86639 12.6659 3.31639 11.5909C2.53306 11.2576 1.79139 10.9492 1.15806 10.6242C0.824724 10.4576 0.616391 10.1242 0.599725 9.74923C0.583058 9.38256 0.758058 9.02423 1.06639 8.82423L2.40806 7.94923C6.08306 5.5659 9.88306 3.10756 11.1997 1.12423C11.5164 0.640898 12.1664 0.515898 12.6414 0.832565C13.1164 1.14923 13.2497 1.79923 12.9331 2.27423C11.4081 4.55756 7.56639 7.08256 3.79972 9.52423C3.90806 9.5659 4.01639 9.6159 4.12472 9.65756C6.73306 10.7576 10.2997 12.2576 13.1497 15.5992C13.5247 16.0409 13.4664 16.6909 13.0331 17.0659C12.8331 17.2326 12.5997 17.3159 12.3581 17.3159V17.3326Z"
            fill="#471A03"
          />
        </svg>
      </a>
      @if(auth.user)
        <form action="{{ route('rename-plan', { id: plan.id}) }}" method="POST" class="w-full">
          {{ csrfField() }}
              <input id="plan-name" type="text" name="newName" value="{{ plan.name }}" class="w-full" />
        </form>
      @else
        <h1>
          {{ plan.name }}
        </h1>
      @end
      {{-- <button id="exportPDF" class="btn btn-primary">Export PDF</button> --}}
    </div>

    {{-- ... button --}}
    <button
      class="bg-white w-10 h-10 rounded-full flex justify-center items-center"
      type="button"
      arial-label="plan options"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M12.015 7.72131C11.6714 7.73914 11.3282 7.68009 11.0104 7.54845C10.4436 7.27884 10.3468 6.21328 10.3232 5.69998C10.2874 4.9157 10.5763 4.07381 11.5653 4.00556C12.3206 3.95336 13.3432 4.26604 13.3865 5.06539C13.4417 6.08548 13.3882 7.07574 12.9963 7.44539C12.6938 7.60921 12.3585 7.70348 12.015 7.72131Z"
          fill="#471A03"
        />
        <path
          d="M10.0033 11.8938C9.98547 11.5503 10.0445 11.2071 10.1762 10.8892C10.4458 10.3224 11.5113 10.2256 12.0246 10.202C12.8089 10.1662 13.6508 10.4551 13.7191 11.4441C13.7712 12.1994 13.4586 13.222 12.6592 13.2653C11.6391 13.3205 10.6489 13.267 10.2792 12.8751C10.1154 12.5726 10.0211 12.2373 10.0033 11.8938Z"
          fill="#471A03"
        />
        <path
          d="M12.015 16.2789C11.6714 16.261 11.3282 16.3201 11.0104 16.4517C10.4436 16.7213 10.3468 17.7869 10.3232 18.3002C10.2874 19.0845 10.5763 19.9264 11.5653 19.9946C12.3206 20.0468 13.3432 19.7341 13.3865 18.9348C13.4417 17.9147 13.3882 16.9244 12.9963 16.5548C12.6938 16.391 12.3585 16.2967 12.015 16.2789Z"
          fill="#471A03"
        />
      </svg>
    </button>
  </div>

  {{-- Plan state --}}
  <div
    class="absolute top-16 left-4 z-10 w-auto border-1 border-bamboo-0 rounded-md px-3 py-1.5 text-sm"
  >
    <p id="planStateLabel" class="label-{{ plan.state || 'construction' }}">
      {{ plan.state === 'enclosed' ? 'Enclosure Complete' : (plan.state === 'broken' ? 'Enclosure Broken' : 'Under Construction') }}
    </p>
  </div>

  {{-- Toolbox Panel --}}
  <div
    class="absolute top-1/2 -translate-y-1/2 left-4 bottom-20 z-10 flex flex-col justify-between bg-white rounded-md border-1 border-bamboo-0 overflow-hidden w-auto h-148"
  >

    {{-- Move --}}
    <button
      class="tool-btn mini-tool border-b-1 border-bamboo-0 w-full"
      data-tool="move"
      type="button"
      aria-label="move tool"
    >
      <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M4.53075 13.3104L4.5318 13.3104C4.59574 13.3135 4.66021 13.3176 4.7249 13.3217C4.90837 13.3334 5.09363 13.3452 5.27362 13.3331C5.51366 13.3169 5.72319 13.2585 5.87946 13.1127C6.1205 12.8707 6.18675 12.4995 6.16525 12.1986L6.16434 12.1859L6.16515 12.1859C6.18725 11.7882 6.15418 11.3774 6.10915 10.9608C6.0977 10.8549 6.08545 10.7484 6.07317 10.6417C6.03745 10.3314 6.00152 10.0191 5.98459 9.71423L5.98458 9.71416C5.89409 8.06275 5.91632 6.33821 6.23451 4.72423C6.33852 4.1699 6.58698 3.54907 6.97871 3.08719C7.37244 2.62294 7.91757 2.31327 8.60369 2.40957L8.60393 2.4096C8.87118 2.44778 9.07927 2.54671 9.26055 2.69145C9.34216 2.15872 9.52203 1.62283 9.99808 1.27661L9.99934 1.2757L9.99935 1.27571C10.6379 0.826362 11.5862 0.751647 12.2573 1.20703L12.2574 1.20708C12.7619 1.55015 13.006 2.09303 13.1253 2.65197C13.2126 2.48583 13.3138 2.33074 13.4355 2.19388L13.4357 2.19364C13.8514 1.72899 14.5998 1.61094 15.1556 1.87652C15.5419 2.05774 15.8207 2.38145 16.019 2.74888C16.2173 3.11642 16.3385 3.53356 16.4074 3.91267L16.408 3.916L16.4079 3.91601C16.5023 4.55734 16.5495 5.2134 16.5758 5.85743C16.5783 5.85308 16.5808 5.84875 16.5834 5.84444C16.7847 5.47828 17.0954 5.18827 17.4562 5.06596C17.8221 4.94192 18.2303 4.994 18.6063 5.29725L18.607 5.29782C18.9453 5.57571 19.1337 5.97041 19.2466 6.38422C19.3593 6.79765 19.3994 7.24094 19.4331 7.62338L19.4332 7.62387C19.6375 10.076 19.2514 12.6379 18.7998 15.0314L18.7998 15.0315C18.3465 17.4112 17.2069 19.9194 14.7163 20.7727L14.7155 20.773C13.4752 21.1864 12.0124 21.1389 10.7459 21.0032L10.7451 21.0032C9.56094 20.8665 8.45549 20.5463 7.50918 19.7385L7.50874 19.7381C7.36302 19.6122 7.30059 19.4578 7.30775 19.3037C7.31476 19.1531 7.38762 19.0134 7.49211 18.9089C7.70014 18.7009 8.0643 18.6076 8.36173 18.8645L8.36222 18.8649C9.23706 19.6304 10.4471 19.8109 11.618 19.8559C12.8411 19.9012 14.0732 19.92 15.1038 19.2623C16.9577 18.0706 17.4509 15.837 17.7903 13.7553L17.7903 13.755C18.1057 11.8625 18.3303 9.88429 18.2631 7.97584C18.2604 7.93528 18.2581 7.88152 18.2553 7.81789C18.2459 7.60187 18.2316 7.2721 18.1824 6.95933C18.1504 6.75656 18.1049 6.56995 18.0407 6.4324C17.9752 6.2922 17.9035 6.22979 17.832 6.21925C17.8116 6.21748 17.7866 6.22365 17.7538 6.24977C17.719 6.27753 17.6812 6.32373 17.642 6.38966C17.5638 6.52134 17.4932 6.70934 17.4318 6.91583C17.3354 7.24024 17.267 7.59029 17.2251 7.80484C17.2137 7.86317 17.2043 7.91148 17.1968 7.94655L17.1964 7.94808C16.926 9.11981 16.7006 10.2693 16.4749 11.443L16.4748 11.4437C16.4042 11.7964 16.0726 11.9168 15.796 11.8786C15.5201 11.8406 15.233 11.6353 15.2614 11.2807L15.2614 11.2796C15.4414 9.30054 15.3965 7.31994 15.2838 5.33562L15.2837 5.33395C15.2822 5.29666 15.2808 5.25437 15.2793 5.20788C15.269 4.89695 15.2526 4.39776 15.1587 3.94523C15.1047 3.68499 15.0268 3.44916 14.9155 3.27659C14.8057 3.10633 14.6698 3.00597 14.4961 2.99204C14.3836 2.98478 14.3062 3.04617 14.2387 3.17117C14.1824 3.27534 14.1448 3.40256 14.1075 3.52903C14.0983 3.55998 14.0892 3.59089 14.0798 3.62141L14.0798 3.62154C13.7444 4.70582 13.604 5.84253 13.4884 6.99606C13.4713 7.16705 13.4547 7.33846 13.4381 7.51011C13.3428 8.49324 13.2469 9.4844 13.044 10.4507C13.0102 10.625 12.9142 10.7508 12.7875 10.8259C12.6628 10.8999 12.5137 10.922 12.3735 10.9024C12.0958 10.8637 11.8166 10.6509 11.8303 10.2919L11.8303 10.2921L11.9303 10.2955L11.8303 10.2917L4.53075 13.3104ZM4.53075 13.3104C4.51009 13.3096 4.48937 13.3088 4.4686 13.3081M4.53075 13.3104L4.4686 13.3081M1.87866 17.6934L1.87782 17.6929C1.27702 17.3116 0.801375 16.7756 0.606146 16.1722C0.409214 15.5635 0.501303 14.8959 1.01918 14.272L1.87866 17.6934ZM1.87866 17.6934C3.18202 18.5024 4.74463 18.4777 6.17329 18.4551C6.21176 18.4545 6.25014 18.4539 6.28841 18.4533M1.87866 17.6934L2.86089 16.8217M2.86089 16.8217L2.86087 16.8217C3.77561 17.3388 4.87039 17.481 5.94163 17.6201C6.06178 17.6357 6.18164 17.6513 6.30091 17.6674L6.28757 17.7665L6.29997 17.6672C6.53763 17.6969 6.66321 17.8924 6.66686 18.0748C6.6687 18.1666 6.64035 18.2615 6.57466 18.3347C6.50762 18.4095 6.40916 18.4531 6.28841 18.4533M2.86089 16.8217L2.85824 16.8203M2.86089 16.8217L2.85824 16.8203M6.28841 18.4533C6.28813 18.4533 6.28785 18.4533 6.28757 18.4533V18.3533L6.28911 18.4533C6.28888 18.4533 6.28864 18.4533 6.28841 18.4533ZM2.85824 16.8203C2.64486 16.708 2.38257 16.56 2.16599 16.3732C1.94843 16.1855 1.78938 15.9694 1.75984 15.7232L1.75978 15.7227M2.85824 16.8203L1.75978 15.7227M1.75978 15.7227C1.72039 15.4076 1.87511 15.1512 2.12304 14.956M1.75978 15.7227L2.12304 14.956M4.4686 13.3081C3.87967 13.2861 3.2486 13.2625 2.65859 13.3683M4.4686 13.3081L2.65859 13.3683M2.65859 13.3683C2.04445 13.4784 1.46733 13.7296 1.01934 14.2718L2.65859 13.3683ZM2.12304 14.956C2.37201 14.76 2.70431 14.6359 2.98361 14.5927M2.12304 14.956L2.98361 14.5927M2.98361 14.5927C3.36191 14.5446 3.76633 14.5699 4.18533 14.596C4.34125 14.6057 4.49919 14.6156 4.65855 14.6218C5.23683 14.6445 5.82531 14.6179 6.33631 14.3327C7.36322 13.7596 7.51617 12.5272 7.42546 11.5284L2.98361 14.5927ZM8.82985 4.71527C8.82994 4.71574 8.83003 4.71621 8.83012 4.71668L8.92835 4.69797L8.82963 4.71389C8.8297 4.71435 8.82978 4.71481 8.82985 4.71527Z"
          fill="#471A03"
          stroke="#471A03"
          stroke-width="0.2"
        />
        <path
          d="M12.3118 16.3599L12.3118 16.3599L12.3122 16.3608C12.3841 16.5306 12.5021 16.6403 12.6384 16.6924C12.773 16.7438 12.9186 16.7364 13.0433 16.6851C13.1679 16.6339 13.2758 16.5371 13.3313 16.4049C13.3874 16.2711 13.3857 16.1107 13.3078 15.9418C12.8934 15.0211 12.2258 14.2615 11.3973 13.7322L11.3973 13.7322L11.3965 13.7316C11.0308 13.5031 10.5884 13.2729 10.1263 13.1285C9.66483 12.9843 9.17604 12.9232 8.72238 13.0426L8.72238 13.0426L8.72152 13.0428C8.63862 13.0654 8.57389 13.111 8.53176 13.1731C8.49022 13.2343 8.47482 13.3055 8.47871 13.3735C8.48634 13.507 8.56905 13.6433 8.70721 13.7047L8.70714 13.7048L8.71271 13.7069C8.95078 13.7962 9.19249 13.8672 9.4284 13.9365C9.55279 13.9731 9.67555 14.0091 9.79533 14.0472C10.1467 14.1587 10.4861 14.2906 10.8131 14.5084C11.475 14.972 12.0037 15.6115 12.3118 16.3599Z"
          fill="#471A03"
          stroke="#471A03"
          stroke-width="0.2"
        />
      </svg>
    </button>
    <div class="flex border-b-1 border-bamboo-0">
      {{-- Select --}}
      <button
        class="tool-btn mini-tool active-tool flex-auto border-r-1 border-bamboo-0"
        data-tool="select"
        type="button"
        aria-label="select tool"
      >
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_580_6)">
            <path
              d="M9.20831 19.5077C9.87823 17.8796 10.536 16.2515 11.1734 14.6193C11.7946 13.04 12.1762 11.6677 11.7865 11.6392C11.7337 11.6352 11.6728 11.6555 11.6078 11.6961C11.6403 11.6717 11.6687 11.6433 11.6972 11.6108C11.7865 11.4971 11.8271 11.355 11.819 11.2089C12.0179 11.2089 12.3224 11.152 12.6756 11.0668C14.6042 10.5999 16.7763 9.88122 19.0053 9.03672C19.0337 9.0489 19.0581 9.05702 19.0865 9.0692L19.0865 9.00829C19.253 8.94333 19.4235 8.88243 19.594 8.81747C19.7158 8.76875 19.8214 8.67537 19.8823 8.54544C20.0001 8.2856 19.8823 7.97703 19.6184 7.85929L19.59 7.84711C19.4235 7.77402 19.253 7.69688 19.0825 7.6238L19.0825 7.59944C19.0743 7.6035 19.0622 7.60756 19.054 7.61162C18.7536 7.4817 18.4491 7.34771 18.1446 7.21779C12.4929 4.81015 6.85345 2.36598 1.13277 0.0598419L1.12465 0.0557815C0.94195 -0.0173002 0.734885 -0.0213601 0.54406 0.0598419C0.15429 0.222246 -0.0324741 0.672916 0.12993 1.06675C0.694283 2.41876 1.27082 3.76671 1.85547 5.11466C2.20464 5.9957 2.55381 6.87268 2.90298 7.75373C4.48236 11.692 6.08609 15.6181 7.74667 19.5036L7.75479 19.5239C7.83194 19.7067 7.98216 19.8609 8.17704 19.9421C8.58305 20.1045 9.04185 19.9137 9.20831 19.5077ZM17.3001 8.3465C15.7735 8.99205 14.2469 9.62949 12.7203 10.2547C12.3914 10.3887 11.9408 10.6973 11.7337 10.8841C11.689 10.7907 11.6281 10.7014 11.551 10.612C11.011 10.003 10.471 9.38588 9.87417 8.83371C8.91598 7.94455 7.90908 7.10817 6.92247 6.24743C5.92775 4.8467 4.65694 3.70175 3.40237 2.5365C7.96186 4.57061 12.631 6.45855 17.3001 8.3465ZM7.47871 15.0254C5.89933 11.2454 4.27935 7.48576 2.66749 3.72205C3.99514 5.13902 5.28219 6.5966 6.78849 7.84305C6.95495 8.02169 7.12142 8.2044 7.29194 8.37898C8.37193 9.49551 9.48846 10.5796 10.7227 11.5174C11.0272 11.7489 11.3602 11.8625 11.5916 11.7083C11.2099 11.9519 10.6172 12.8776 10.0122 14.2174C9.51282 15.3258 9.00936 16.4423 8.50997 17.5589C8.17298 16.7103 7.82788 15.8658 7.47871 15.0254Z"
              fill="#471A03"
            />
          </g>
          <defs>
            <clipPath id="clip0_580_6">
              <rect width="20" height="20" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </button>
      {{-- Add Point --}}
      <button class="tool-btn mini-tool flex-auto" data-tool="point" type="button" aria-label="add point tool">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.7387 0.505083C10.3626 -0.168397 9.61035 -0.168324 9.23423 0.505083C9.18063 0.601048 9.21172 1.09077 9.25786 1.81759V1.81761V1.81762C9.34245 3.14991 9.4776 5.27886 9.23446 7.23975C9.1712 7.74997 9.16045 8.42998 9.16953 9.20387C8.47353 9.22079 7.74904 9.23664 7.03568 9.23435C5.95686 9.2309 4.89235 9.21374 3.94925 9.19853H3.94917H3.94915H3.94912C2.19874 9.17031 0.866611 9.14883 0.63748 9.23423C-0.372605 9.61068 -0.0358649 10.3632 0.63748 10.7387C0.865966 10.8661 5.21732 10.8634 6.3622 10.7393C6.67577 10.7054 7.76936 10.7086 9.20132 10.7261C9.21916 11.4539 9.23676 12.2152 9.23436 12.9643C9.2309 14.0431 9.21374 15.1077 9.19853 16.0508V16.0508V16.0509V16.0509C9.17031 17.8013 9.14884 19.1334 9.23423 19.3625C9.61068 20.3726 10.3632 20.0359 10.7387 19.3625C10.8661 19.134 10.8634 14.7827 10.7393 13.6378C10.705 13.3205 10.7087 12.2045 10.7267 10.7475C11.0908 10.753 11.4647 10.7589 11.8433 10.7648L11.8454 10.7649C15.3431 10.8198 19.24 10.8811 19.4949 10.7387C20.1684 10.3626 20.1683 9.61035 19.4949 9.23423C19.399 9.18063 18.9092 9.21172 18.1824 9.25786C16.8501 9.34245 14.7211 9.4776 12.7603 9.23446C12.2397 9.16992 11.5424 9.16004 10.749 9.17011L10.7649 8.15466V8.15461C10.8198 4.65686 10.8811 0.759975 10.7387 0.505083ZM2.08333 19.1667C2.77369 19.1667 3.33333 18.607 3.33333 17.9167C3.33333 17.2263 2.77369 16.6667 2.08333 16.6667C1.39298 16.6667 0.833333 17.2263 0.833333 17.9167C0.833333 18.607 1.39298 19.1667 2.08333 19.1667Z"
            fill="#471A03"
          />
        </svg>
      </button>
    </div>

    {{-- Fence --}}
    <button class="fence-tool-btn tool-btn" data-tool="fence" type="button" aria-label="Draw fence tool">
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="fence-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4142)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M19.3808 15.5714C27.2523 14.8381 26.9999 21.3333 30.3332 21.3095C33.6665 21.2857 41.2856 21.2857 41.2856 21.2857L41.7618 18.4286L44.4142 17.8333L45.1856 18.8381V21.1L47.4713 20.8095L47.9475 25.5714L45.0808 26.0619L45.0904 27.4762L47.9475 27.9524V32.2381L45.0904 32.7143V35.0952L48.4237 36.0476V39.8571H45.0904V45.0952L43.6618 46.5238L41.757 46.0476L40.8046 39.8571L23.6618 39.3809L22.7094 41.7619C22.7094 41.7619 22.7999 44.1333 22.757 45.5666C22.7237 46.6428 13.6618 51.2857 12.2332 38.9047C11.9999 36.8333 11.7618 29.3809 14.1427 26.5238C11.2856 22.2381 14.4142 16.0333 19.3808 15.5714Z"
          fill="#ECBB95"
        />
        <path
          d="M48.1095 34.519C47.2952 34.4904 47.4856 34.4762 46.0475 34.4619C46.0761 33.9762 45.9666 33.4762 46.0095 32.9952C46.7809 33.0095 47.0761 33.0381 47.8475 33.0524C48.3047 33.0857 48.7571 32.7809 48.9237 32.3571C48.9856 32.1904 48.9856 32.0095 48.9999 31.8428V31.2714C49.0142 30.3904 49.0428 29.1524 49.0571 28.2762C49.0904 27.6095 48.5142 27.0476 47.8475 27.0809C47.3523 27.0666 46.5618 27.0476 46.0475 27.0476C46.0618 26.7762 46.0333 26.519 46.0475 26.2619L47.2523 26.2762L47.5237 26.2952H47.5714C47.7666 26.2952 47.9761 26.2333 48.1571 26.1095C48.4475 25.9143 48.6428 25.5666 48.6428 25.219V25.0666L48.6571 24.5238C48.6714 23.9809 48.6904 22.8904 48.7047 22.3476C48.7047 22.1952 48.719 21.7238 48.7047 21.5762C48.6904 20.9714 48.1285 20.4714 47.5237 20.4857C47.2809 20.4857 46.4571 20.4857 46.0475 20.4714C46.0475 20.019 46.0666 19.5619 46.0809 19.1095C46.0809 18.019 45.1095 17.0666 44.0237 17.0809C43.5856 17.0809 43.0714 17.0666 42.6476 17.0666C41.5142 17.0238 40.4999 17.9762 40.4856 19.1238V20.4095C39.0333 20.3952 35.519 20.3809 31.9999 20.3666C28.4809 20.3762 24.9666 20.3952 23.5142 20.4095V19.1238C23.4999 17.9762 22.4856 17.0238 21.3523 17.0666C20.9285 17.0666 20.4142 17.0809 19.9761 17.0809C18.8904 17.0666 17.919 18.019 17.919 19.1095C17.9333 19.5619 17.9523 20.019 17.9523 20.4714C17.5428 20.4857 16.719 20.4857 16.4761 20.4857C15.8714 20.4714 15.3095 20.9714 15.2952 21.5762C15.2809 21.7238 15.2952 22.1952 15.2952 22.3476C15.3095 22.8904 15.3285 23.9809 15.3428 24.5238L15.3571 25.0666V25.219C15.3571 25.5666 15.5523 25.9143 15.8428 26.1095C16.0237 26.2333 16.2333 26.2952 16.4285 26.2952H16.4761L16.7476 26.2762L17.9523 26.2619C17.9666 26.519 17.938 26.7762 17.9523 27.0476C17.438 27.0476 16.6476 27.0666 16.1523 27.0809C15.4856 27.0476 14.9095 27.6095 14.9428 28.2762C14.9571 29.1524 14.9856 30.3904 14.9999 31.2714V31.8428C15.0142 32.0095 15.0142 32.1904 15.0761 32.3571C15.2428 32.7809 15.6952 33.0857 16.1523 33.0524C16.9237 33.0381 17.219 33.0095 17.9904 32.9952C18.0333 33.4762 17.9237 33.9762 17.9523 34.4619C16.5142 34.4762 16.7047 34.4904 15.8904 34.519C15.2666 34.6095 14.8142 35.1857 14.8618 35.8047C14.8761 36.0047 14.8761 37.0904 14.8904 37.3047C14.9047 37.5285 14.9047 38.619 14.919 38.8143C14.8904 39.4666 15.3904 40.0285 16.038 40.0285C16.1761 40.0285 17.8761 40.1333 17.9523 40.1476C17.9523 42.2381 18.0714 43.6666 18.0714 45.5C18.0714 47 19.8571 46.8619 20.519 46.8619C21.2856 46.8619 23.1904 47 23.2095 45.5904L23.6142 40.3428C23.9475 40.3619 27.719 40.4524 31.9999 40.4857C36.2856 40.4571 40.0523 40.3619 40.3856 40.3428L40.7904 45.5904C40.8095 47 42.7142 46.8619 43.4809 46.8619C44.1428 46.8619 45.9285 47 45.9285 45.5C45.9285 43.6666 46.0475 42.2381 46.0475 40.1476C46.1237 40.1333 47.8237 40.0285 47.9618 40.0285C48.6095 40.0285 49.1095 39.4666 49.0809 38.8143C49.0952 38.619 49.0952 37.5285 49.1095 37.3047C49.1237 37.0904 49.1237 36.0047 49.138 35.8047C49.1856 35.1857 48.7333 34.6095 48.1095 34.519ZM42.2809 19.1524C42.2809 19.0619 42.3285 18.9904 42.3904 18.9285C42.4475 18.8809 42.5095 18.8524 42.5856 18.8381H44.0666C44.1428 18.8381 44.219 18.8666 44.2809 18.9143C44.3237 18.9714 44.3714 19.0476 44.3856 19.1238L44.4142 20.4571C43.6904 20.4381 42.9475 20.4381 42.2809 20.4238V19.1524ZM19.6142 19.1238C19.6285 19.0476 19.6761 18.9714 19.719 18.9143C19.7809 18.8666 19.8571 18.8381 19.9333 18.8381H21.4142C21.4904 18.8524 21.5523 18.8809 21.6095 18.9285C21.6714 18.9904 21.719 19.0619 21.719 19.1524V20.4238C21.0523 20.4381 20.3095 20.4381 19.5856 20.4571L19.6142 19.1238ZM17.7714 24.9904C17.6618 24.9904 16.9142 24.9762 16.7047 24.9762C16.7333 24.0381 16.7476 22.5571 16.7618 21.619C17.019 21.6238 24.7571 21.6428 31.9999 21.6619C39.2428 21.6428 46.9809 21.6238 47.238 21.619C47.2523 22.5571 47.2666 24.0381 47.2952 24.9762C47.0856 24.9762 46.338 24.9904 46.2285 24.9904C44.7761 25.0238 38.4571 25.0285 31.9999 25.0143C25.5428 25.0333 19.2237 25.0238 17.7714 24.9904ZM44.6142 27.0333C43.8237 27.019 43.0523 27.0047 42.2666 27.0047V26.1571C42.4952 26.1714 42.7237 26.1714 42.9475 26.1857C43.2952 26.1857 43.9333 26.2047 44.5809 26.2333C44.5952 26.4904 44.5952 26.7619 44.6142 27.0333ZM40.5142 26.9904C37.6809 26.9619 34.838 26.9381 31.9999 26.9238C29.1618 26.9333 26.319 26.9571 23.4856 26.9904C23.4856 26.6857 23.4999 26.4 23.4999 26.1095C24.9047 26.0666 28.4428 26.0524 31.9999 26.0666C35.5571 26.0524 39.0999 26.0666 40.4999 26.1095C40.4999 26.4 40.5142 26.6857 40.5142 26.9904ZM21.7333 26.1571V27.0047C20.9476 27.0047 20.1761 27.019 19.3856 27.0333C19.4047 26.7619 19.4047 26.4904 19.419 26.2333C20.0666 26.2047 20.7047 26.1857 21.0523 26.1857C21.2761 26.1714 21.5047 26.1714 21.7333 26.1571ZM16.3333 31.7666C16.3618 30.7857 16.3761 29.5619 16.3904 28.5619C19.9904 28.6381 23.6999 28.6809 27.4618 28.7L31.9999 28.6857L36.538 28.7C40.2999 28.6809 44.0095 28.6381 47.6095 28.5619C47.6237 29.5619 47.638 30.7857 47.6666 31.7666C45.7952 31.8047 38.9047 31.8143 31.9999 31.8C25.0952 31.8143 18.1999 31.8095 16.3333 31.7666ZM44.0999 34.4619C43.0285 34.4476 42.919 34.4285 42.1476 34.4285C42.1618 33.9143 42.1761 33.419 42.1761 32.9047C43.0999 32.9333 43.1761 32.9619 44.0999 32.9762C44.1333 33.4762 44.0714 33.9619 44.0999 34.4619ZM40.619 34.4143C37.7475 34.3857 34.8761 34.3666 31.9999 34.3571C29.1237 34.3666 26.2523 34.3857 23.3809 34.4143C23.3952 33.9 23.3952 33.3714 23.4095 32.8571C24.838 32.819 28.4095 32.8143 31.9999 32.8285C35.5904 32.8143 39.1666 32.819 40.5904 32.8571C40.6047 33.3714 40.6047 33.9 40.619 34.4143ZM19.8999 32.9762C20.8237 32.9619 20.8999 32.9333 21.8237 32.9047C21.8237 33.419 21.838 33.9143 21.8523 34.4285C21.0809 34.4285 20.9714 34.4476 19.8999 34.4619C19.9285 33.9619 19.8666 33.4762 19.8999 32.9762ZM22.0285 44.4904C22.0285 44.4904 21.9999 45.5666 21.038 45.5666C20.9761 45.5666 20.2999 45.5285 20.0856 45.4857C19.7095 45.4095 19.4333 45.0809 19.4333 44.6952C19.4285 43.1809 19.4333 41.2047 19.4714 40.4428C19.819 40.4571 20.3142 40.4666 20.8285 40.4809L21.1333 40.4904C21.6476 40.5 21.8904 40.5143 22.2428 40.5285C22.1952 41.1904 22.0333 44.4857 22.0333 44.4857L22.0285 44.4904ZM44.5714 44.7C44.5714 45.0857 44.2952 45.4143 43.919 45.4904C43.7047 45.5333 43.0237 45.5714 42.9666 45.5714C42.0047 45.5714 41.9761 44.4952 41.9761 44.4952C41.9761 44.4952 41.8142 41.2 41.7666 40.5381C42.119 40.5238 42.3618 40.5095 42.8761 40.5L43.1809 40.4904C43.6952 40.4762 44.1904 40.4666 44.538 40.4524C44.5761 41.2143 44.5809 43.1857 44.5761 44.7047L44.5714 44.7ZM31.9999 38.9047C24.1618 38.8524 16.2809 38.4524 16.2809 38.4524C16.2809 38.1047 16.2809 37.7143 16.2952 37.3333L16.3142 36.1095C16.3142 36.1095 16.3285 36.0476 16.3285 36.0047C16.4952 36.0047 16.7952 36.0047 17.1142 36.019L31.9999 35.8095L46.8856 36.019C47.2047 36.0047 47.5047 36.0047 47.6714 36.0047C47.6714 36.0476 47.6856 36.1095 47.6856 36.1095L47.7047 37.3333C47.719 37.7143 47.719 38.1047 47.719 38.4524C47.719 38.4524 39.838 38.8524 31.9999 38.9047Z"
          fill="#471A03"
        />
        <defs>
          <clipPath id="clip0_515_4142">
            <rect width="58" height="58" fill="white" transform="translate(3 3)" />
          </clipPath>
        </defs>
      </svg>
    </button>

    {{-- Shelter --}}
    <button
      class="element-tool-btn tool-btn {{ !plan.isEnclosed ? ' disabled' : '' }}"
      data-tool="shelter"
      type="button"
      aria-label="Draw shelter tool"
    >
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="shelter-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4170)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M20.1956 46.0476C24.9576 46.0476 42.8004 45.0714 44.5956 45.8C46.3909 46.5286 44.5956 33.7 44.5956 33.7H47.9671C47.9671 33.7 43.9385 22.4905 42.3052 19.7476C40.6718 17.0048 25.9099 10.3333 20.1956 14.1429C14.4814 17.9524 7.8147 34.619 15.9099 36.5238C24.4814 38.4286 15.4337 46.0476 20.1956 46.0476Z"
          fill="#F4CF8C"
        />
        <path
          d="M44.2335 46.8048C44.0192 46.8048 43.7859 46.7953 43.5192 46.781C43.2573 46.7667 42.5906 46.7143 41.743 46.6524L41.6335 46.6429C39.6478 46.4953 36.9335 46.2953 35.7478 46.2524C34.2383 46.2 32.7192 46.1714 31.224 46.1714C29.7287 46.1714 28.1811 46.2 26.6621 46.2524C25.5763 46.2905 24.3954 46.3714 23.143 46.4524C21.243 46.581 21.7002 46.7095 20.0287 46.7095C19.8097 46.7095 19.5954 46.7095 19.3811 46.7048C18.843 46.6905 18.4287 46.5762 18.4097 45.2048C18.5383 42.6334 18.5954 40.3524 18.6525 37.9381C18.6716 37.0905 18.6954 36.2238 18.7192 35.3238V34.7048C18.7383 34.1572 16.3811 33.9524 15.5097 33.9191C15.3811 33.9191 15.2716 33.8905 15.1763 33.8381C15.0811 33.7857 15.0002 33.7048 14.943 33.6095C14.8859 33.5143 14.8525 33.4048 14.8525 33.2905C14.8525 33.181 14.8763 33.0714 14.9335 32.9762C16.2383 29.9381 17.5763 26.9762 19.0621 23.6905C19.243 23.2953 19.424 22.9 19.6097 22.5048L19.7192 22.2667C20.2002 21.2333 20.6811 20.1953 21.1144 19.1524L21.1954 18.9524C21.5002 18.2095 21.9192 17.1905 22.6621 17.1905C22.7287 17.1905 22.8002 17.2 22.8716 17.2143C25.1478 17.681 27.5383 17.7429 29.8525 17.8C30.5144 17.8143 31.1097 17.8333 31.7049 17.8524C35.1621 17.9476 38.6478 18.2619 42.0621 18.7905C42.2811 18.7905 42.4525 18.8286 42.6049 18.8905C42.7525 18.9524 42.8859 19.0429 43.0002 19.1572C43.1621 19.4953 43.3002 19.881 43.3954 20.2857C43.6144 20.8953 43.8287 21.4619 44.0478 22.0238C44.4621 23.1 44.9049 24.2048 45.3668 25.3048C46.2954 27.5095 47.3049 29.7 48.3621 31.8191L48.4478 31.9857C48.7573 32.6 49.4049 33.881 49.0287 34.4381C48.8287 34.7381 48.4144 34.8429 47.4383 34.8429C47.1478 34.8429 46.824 34.8333 46.4621 34.8238C46.3716 34.8238 46.2954 34.8381 46.2192 34.8667C46.1478 34.8905 46.0763 34.9381 46.0144 34.9905C45.9478 35.0524 45.9002 35.1191 45.8668 35.2C45.8335 35.2762 45.8144 35.3619 45.8144 35.4429C45.8097 37.3429 45.8478 39.3238 45.8811 40.8429C45.8859 41.081 45.8954 41.3714 45.9049 41.6857V41.7572C45.9383 42.7286 45.9763 43.9333 45.9383 44.6524C45.8383 46.4762 45.8192 46.8 44.224 46.8L44.2335 46.8048ZM22.5383 20.9429C22.124 20.9429 21.8763 21.381 21.624 21.9048C21.3954 22.3714 20.9668 23.3762 20.5859 24.2619L20.5621 24.3191C20.2383 25.0762 19.9002 25.8619 19.7192 26.2572C18.7763 28.0762 17.9478 29.9857 17.2668 31.9333C17.1859 32.1048 17.1763 32.3238 17.243 32.5238C17.3097 32.7286 19.8287 32.9 20.0144 33.0095C20.3668 33.2429 20.3573 33.6476 20.343 34.1619V34.2619C20.3287 34.781 20.3192 35.3048 20.3097 35.8238C20.2859 37.0048 20.2668 38.2238 20.2049 39.4286L20.1621 41.3714C20.1763 41.8619 20.1621 42.3524 20.1573 42.8238C20.1478 43.2905 20.1383 43.7381 20.143 44.1857V44.281C20.1716 44.9619 20.424 45.1905 21.1335 45.1905C23.0335 45.1714 22.5192 45.0429 24.324 44.9191C25.8049 44.8143 27.3335 44.7095 28.8383 44.6667C30.0668 44.6333 31.2764 44.6143 32.443 44.6143C34.0859 44.6143 35.6906 44.6524 37.2049 44.7238L37.9192 44.7572C39.4811 44.8286 42.7287 44.981 43.243 45.0333C43.2954 45.0381 43.343 45.0429 43.3906 45.0429C43.6621 45.0429 43.8764 44.9619 44.0287 44.8048C44.2906 44.5333 44.2764 44.1334 44.2668 43.7762C44.2668 43.7762 44.1716 40.6333 44.1525 39.9048C44.1383 39.4191 44.1097 38.7857 44.0763 38.1095C44.0287 37.0857 43.9811 36.0714 43.9668 35.281C43.9668 35.2095 43.9525 35.1381 43.9192 35.0619C43.8859 34.9857 43.843 34.9191 43.7811 34.8667C43.7335 34.8191 43.6716 34.781 43.6002 34.7524C43.5287 34.7238 43.4573 34.7143 43.3859 34.7143C43.2192 34.7143 43.043 34.7143 42.843 34.7143C41.9716 34.7143 40.6954 34.6905 39.5716 34.6667C38.624 34.6476 37.7811 34.6286 37.3049 34.6286H37.2097C36.8478 34.6286 36.4478 34.6381 36.0287 34.6429H35.924C35.2049 34.6524 34.5002 34.6619 33.8287 34.6619C33.1573 34.6619 32.5954 34.6524 32.143 34.6333L31.7811 34.6191C30.5192 34.5762 29.6859 34.5476 28.9573 33.4048C28.3668 32.3905 27.8383 31.3238 27.3859 30.2429L25.8478 27.0381C25.6002 26.5191 25.0716 25.4095 24.5525 24.3048C24.0383 23.2143 23.524 22.1286 23.2811 21.6191C23.1287 21.3048 22.9097 20.9476 22.5383 20.9476V20.9429ZM42.4859 29.7238C42.2049 29.7238 41.9621 29.8429 41.8144 30.0524C41.6811 30.2381 41.6525 30.4714 41.7287 30.6857C41.8002 30.881 41.9192 31.2191 42.0287 31.5238C42.1335 31.8143 42.2192 32.0524 42.2525 32.1524C42.3002 32.3714 42.4383 32.5857 42.6335 32.7572C42.8287 32.9286 43.0716 33.0286 43.3287 33.0524C44.1335 33.1095 44.9335 33.1286 45.7049 33.1429L46.0621 33.1524C46.4478 33.1524 46.6335 32.981 46.7192 32.8333C46.9906 32.381 46.6335 31.6572 46.2525 30.9524C46.1954 30.8429 46.1573 30.7762 46.1335 30.7286C46.0573 30.4953 45.8954 30.2667 45.6811 30.0953C45.4668 29.9238 45.2049 29.8143 44.9287 29.7857C44.543 29.7381 44.1478 29.7143 43.7621 29.7095C43.6811 29.7095 43.5954 29.7095 43.5144 29.7095C43.3621 29.7095 43.2144 29.7095 43.0668 29.7143C42.8716 29.7143 42.7097 29.7238 42.543 29.7238H42.4906H42.4859ZM35.4097 29.481C35.3002 29.481 35.1954 29.5048 35.0906 29.5429C34.9478 29.6048 34.824 29.7 34.7383 29.8286C34.6478 29.9619 34.5954 30.1095 34.5906 30.2619C34.5811 30.4191 34.6192 30.5714 34.6954 30.7048L35.4287 32.2476C35.6478 32.7143 35.9335 32.9429 36.9383 33.0048C37.4668 33.0381 37.9906 33.0476 38.5192 33.0619C38.5192 33.0619 39.7049 33.0953 39.7097 33.0953C40.1002 33.0953 40.3811 32.9857 40.524 32.7714C40.6002 32.6524 40.6716 32.4572 40.5573 32.1905C40.4621 31.9619 40.3716 31.7333 40.2859 31.5048C40.2002 31.281 40.124 31.0857 40.0478 30.8953C39.6716 29.9667 39.3906 29.5572 38.3144 29.5C38.043 29.4857 37.7525 29.481 37.4573 29.481L36.1954 29.4905C35.9621 29.4905 35.7335 29.4905 35.5144 29.481C35.5144 29.481 35.4811 29.4714 35.4144 29.4714L35.4097 29.481ZM31.3573 33.0238C31.5383 33.0333 31.7335 33.0381 31.9335 33.0381C32.2287 33.0381 32.5335 33.0286 32.8049 33.0191C33.1335 33.0048 33.5621 32.9238 33.743 32.6C33.824 32.4572 33.8811 32.2191 33.7049 31.8953C33.5716 31.6524 33.4573 31.4191 33.343 31.1905C33.1668 30.8333 33.0002 30.5 32.7859 30.1524C32.3383 29.4143 32.1192 29.2857 31.324 29.2857C31.1859 29.2857 31.0144 29.2857 30.8287 29.2953H30.7002C30.4383 29.3048 30.1621 29.3095 29.9954 29.3095H29.9287C29.724 29.3095 29.3287 29.3905 29.1383 29.6905C29.0525 29.8286 28.9763 30.0619 29.1287 30.3714C29.3002 30.7381 29.9144 31.9572 30.124 32.3333C30.243 32.5572 30.4287 32.7429 30.6525 32.8667C30.8478 32.9762 31.0716 33.0333 31.3002 33.0333H31.3621L31.3573 33.0238ZM41.1621 28.0905C41.7668 28.1286 42.3716 28.1667 42.9716 28.1857C43.0192 28.1857 43.0811 28.1953 43.1525 28.2C43.3049 28.2143 43.4859 28.2333 43.6573 28.2333C43.9097 28.2333 44.2668 28.2048 44.4668 27.9524C44.5478 27.8524 44.6335 27.6762 44.5716 27.4143C44.4144 26.9191 44.224 26.4429 44.0002 25.9905C43.843 25.4667 43.4668 24.9667 42.9811 24.6381C42.4478 24.4048 41.9335 24.2905 41.3906 24.2905C41.3144 24.2905 41.2383 24.2905 41.1621 24.2953H40.9716C40.7906 24.2953 40.624 24.2905 40.4668 24.281H40.3716C40.2906 24.2667 40.2002 24.2619 40.1049 24.2619C39.7097 24.2619 39.4383 24.3953 39.3002 24.6524C39.1049 25.0191 39.3383 25.3953 39.4954 25.6429C39.5383 25.7095 39.5716 25.7619 39.5906 25.8095C39.8097 26.3095 40.0097 26.8191 40.1811 27.3238C40.2192 27.5191 40.3525 27.7333 40.5335 27.8762C40.7097 28.0143 40.9287 28.0953 41.1573 28.0953L41.1621 28.0905ZM27.7478 23.5C27.5906 23.5 27.4335 23.5 27.2811 23.5095H27.2097C26.9716 23.5095 26.5763 23.5191 26.3811 23.8048C26.3049 23.9191 26.2383 24.1095 26.343 24.3857C26.5192 24.8381 27.4621 27.0238 27.6906 27.3238C27.7859 27.4905 27.9525 27.6476 28.1478 27.7572C28.3383 27.8619 28.5525 27.9143 28.7668 27.9143C29.3478 27.9143 30.2335 27.8524 30.5763 27.8191C30.8954 27.7857 31.1192 27.6572 31.243 27.4286C31.4049 27.1286 31.3478 26.7286 31.0668 26.1905L30.1859 24.5095C30.0716 24.2429 29.8668 24 29.6144 23.8238C29.3573 23.6476 29.0573 23.5476 28.7478 23.5333C28.4287 23.5048 28.0906 23.4857 27.7525 23.4857L27.7478 23.5ZM32.9002 23.9191C32.4716 23.9191 32.2621 24.0953 32.1573 24.2476C32.024 24.4476 32.0049 24.7 32.1049 24.9572C32.2716 25.3905 32.7764 26.6524 32.9668 27.0476C33.0478 27.2714 33.2144 27.4857 33.424 27.6381C33.6383 27.7953 33.8954 27.881 34.1621 27.8905C34.3478 27.8905 35.2954 27.9 35.2954 27.9C35.8049 27.9 36.3811 27.9095 36.8335 27.9095C37.1144 27.9095 37.3525 27.9095 37.5049 27.9048C37.8668 27.8953 38.1049 27.7857 38.2383 27.5667C38.4478 27.2286 38.2859 26.8095 38.0668 26.3333C37.8859 25.9381 37.3668 24.9 37.3002 24.7762C36.9335 24.081 36.0335 24.0333 35.4383 24.0048H35.3383C34.524 23.9572 32.9097 23.9238 32.9002 23.9238V23.9191ZM38.043 19.7429C37.9478 19.7429 37.6621 19.7429 37.4906 19.9667C37.3716 20.1191 37.3478 20.3191 37.4144 20.5714C37.5287 21.0191 37.6716 21.4667 37.8383 21.9048C38.0906 22.5095 38.2811 22.881 39.0859 22.9333C39.2954 22.9476 40.0144 22.9905 40.4478 22.9953C40.5716 22.9953 40.6811 22.9953 40.7811 22.9953C41.0906 22.9953 41.3192 22.9857 41.5716 22.9714C41.8478 22.9524 42.0478 22.8667 42.1763 22.7048C42.2954 22.5572 42.3335 22.3667 42.2954 22.1381C42.224 21.6953 42.1049 21.2524 41.943 20.8191C41.8525 20.5572 41.6716 20.3238 41.4383 20.1667C41.224 20.0238 40.9716 19.9476 40.7144 19.9476H40.6383C40.3763 19.9333 39.8525 19.8905 39.3716 19.8524C39.3383 19.8524 38.7478 19.8 38.5763 19.7905C38.5144 19.7905 38.4478 19.781 38.3859 19.7714C38.2668 19.7572 38.1478 19.7476 38.0478 19.7476L38.043 19.7429ZM30.8954 19.3524C30.6383 19.3524 30.4383 19.4381 30.3097 19.6C30.1716 19.7762 30.1383 20.0238 30.2144 20.3286C30.324 20.8333 30.4859 21.3381 30.6954 21.8191C30.9002 22.2524 31.4144 22.281 31.7573 22.3H31.8668C32.6668 22.3619 33.4716 22.3905 34.2478 22.4143C34.6573 22.4286 35.0621 22.4429 35.4716 22.4572C35.743 22.4572 35.9383 22.3667 36.0478 22.1905C36.2859 21.8191 36.0621 21.2524 35.7954 20.6572C35.7478 20.5572 35.724 20.5048 35.7097 20.4667C35.3573 19.5238 34.7192 19.5238 34.043 19.5238H33.9716C33.4478 19.5238 32.8049 19.4762 32.1859 19.4286C31.7287 19.3953 31.3097 19.3619 30.9478 19.3476H30.9002L30.8954 19.3524ZM24.924 19.1095C24.424 19.1095 24.1621 19.1857 24.0192 19.3762C23.8716 19.5714 23.9287 19.7857 23.9525 19.8762C24.1192 20.4048 24.324 20.9238 24.5621 21.4143C24.8097 21.9953 25.4049 22.0143 25.8383 22.0286C25.9192 22.0286 25.9906 22.0333 26.0525 22.0381C26.1906 22.0476 26.5525 22.0714 26.9621 22.0714C28.1906 22.0714 28.4859 21.8714 28.6287 21.6524C28.724 21.5 28.7335 21.3238 28.6573 21.1524C28.5621 20.9286 28.4763 20.7048 28.3906 20.4857C28.3049 20.2619 28.224 20.0476 28.1335 19.8333C27.8811 19.2524 27.4002 19.1714 26.9573 19.1714H26.7954C26.724 19.1714 25.3668 19.1191 25.1811 19.1095C25.0859 19.1095 25.0002 19.1048 24.9192 19.1048L24.924 19.1095Z"
          fill="#471A03"
        />
        <defs>
          <clipPath id="clip0_515_4170">
            <rect width="58" height="58" fill="white" transform="translate(3 3)" />
          </clipPath>
        </defs>
      </svg>

    </button>

    {{-- Waterer --}}
    <button
      class="element-tool-btn tool-btn {{ !plan.isEnclosed ? ' disabled' : '' }}"
      data-tool="waterer"
      type="button"
      aria-label="Draw water station tool"
    >
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="waterer-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4156)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M34.8237 48.4285C34.8237 48.4285 45.6617 50.1 46.4332 38.7904C47.2046 27.4809 36.3094 20.0762 36.5189 16.8714C36.7284 13.6666 34.5951 23.8095 30.5379 26.5238C27.4332 29.2381 24.3475 21.7619 24.8237 17C26.2522 1.76188 1.01413 27 20.5427 29.7524C26.7284 28.4285 25.776 37.9524 25.776 37.9524L25.8951 40.5143L28.7284 45.519L34.8237 48.4285Z"
          fill="#A8D1C6"
        />
        <path
          d="M31.3145 38.0762C31.3669 37.1428 29.9288 37.0809 29.8336 37.9714C29.7621 39.019 31.2336 39.0571 31.3145 38.0762Z"
          fill="#471A03"
        />
        <path
          d="M31.3145 41.4095C31.3669 40.4762 29.9288 40.4143 29.8336 41.3047C29.7621 42.3523 31.2336 42.3904 31.3145 41.4095Z"
          fill="#471A03"
        />
        <path
          d="M33.981 40.5571C34.0667 39.8285 32.8476 39.6238 32.7572 40.4C32.6286 41.2143 33.9 41.4428 33.981 40.5571Z"
          fill="#471A03"
        />
        <path
          d="M36.3666 49.1428C31.3285 49.1428 26.8428 45.5666 25.4571 40.4476C24.1904 35.7666 25.7951 30.7619 30.3571 25.1571C32.3142 22.7476 34.3428 20.2571 35.1047 17.1762L35.1856 16.8238C35.4094 15.8285 35.5951 15.3238 35.9904 15.3238C36.0713 15.3238 36.1713 15.3428 36.2761 15.3762C37.1523 15.6524 37.4047 16.2904 37.7475 17.1714C37.8571 17.4524 37.9809 17.7762 38.138 18.0952C38.8142 19.4238 39.5951 20.7143 40.4571 21.9238C40.7999 22.419 41.1523 22.919 41.5094 23.419C43.6332 26.419 45.638 29.2476 46.4809 32.7619C46.7142 33.7381 46.8666 34.7381 46.9332 35.7381C47.3428 41.8095 44.6094 48.2905 37.5951 49.0762C37.1856 49.1238 36.7713 49.1476 36.3666 49.1476V49.1428ZM36.5618 18.8476C35.9761 18.8476 35.6856 19.5047 35.4904 19.9381C35.1428 20.6619 34.8237 21.3143 34.4666 21.919C33.6999 23.1476 32.8428 24.3381 31.919 25.4524L31.7428 25.6714C29.9904 27.8666 28.1856 30.1333 27.319 32.9524C26.2428 36.4619 26.3332 39.6905 27.5809 42.2762C28.2237 43.6238 29.1809 44.8333 30.3523 45.7714C31.519 46.7047 32.9094 47.3762 34.3713 47.7095C35.0618 47.8619 35.7713 47.9381 36.4809 47.9381C37.1904 47.9381 37.8523 47.8666 38.5237 47.7238C39.8809 47.4333 41.1904 46.8476 42.3094 46.0238C44.1523 44.5762 45.4237 41.9571 45.7094 39.0143C45.7952 38.0857 45.7999 37.1428 45.7142 36.2095C45.4904 33.7762 44.7999 31.4476 43.6618 29.2905C42.7332 27.5285 41.5809 25.9 40.4666 24.3238C39.7618 23.3238 39.0475 22.3143 38.4047 21.2952C38.0142 20.6809 37.6666 20.0285 37.3285 19.4C37.1237 19.0238 36.8713 18.8428 36.5666 18.8428L36.5618 18.8476ZM21.7428 30.6904C19.3237 30.6904 17.1237 28.4952 17.0285 25.9952C17.0237 25.8428 17.0285 25.6952 17.0285 25.5428C17.1237 23.7714 18.1428 21.8619 19.038 20.1762C19.2713 19.7381 19.4999 19.3095 19.7047 18.8952L21.1951 15.9047C21.6999 14.8904 21.7094 14.8714 22.5094 14.8571C22.9475 14.8571 23.1285 15.5381 23.2904 16.7143C23.3475 17.1238 23.3904 17.4333 23.4666 17.6762C23.7809 18.7 24.2904 19.6809 24.7761 20.6333C25.5856 22.2095 26.4237 23.8381 26.3094 25.5714C26.2047 27.1714 25.2142 29.3476 23.7332 30.2238C23.1666 30.5285 22.519 30.6904 21.8571 30.6904H21.738H21.7428ZM21.8285 18.9809C21.4618 18.9809 21.1618 19.219 20.9285 19.6857C20.6951 20.1571 20.4047 20.6571 20.119 21.1381C19.2428 22.6428 18.338 24.1952 18.338 25.9095C18.3523 26.5047 18.5094 27.0905 18.7952 27.6047C19.3285 28.5619 20.5475 29.5333 21.8523 29.5333C22.1809 29.5333 22.4999 29.4714 22.7999 29.3476C23.3237 29.1047 23.7571 28.7333 24.0618 28.2666C25.6332 26.0476 24.6571 23.9476 23.7952 22.0905L23.7571 22.0047C23.5951 21.6571 23.4332 21.3095 23.2904 20.9571L23.2047 20.7238C22.9428 19.9904 22.5809 18.9809 21.8332 18.9809H21.8285Z"
          fill="#471A03"
        />
      </svg>
    </button>

    {{-- Dustbath --}}
    <button
      class="element-tool-btn tool-btn {{ !plan.isEnclosed ? ' disabled' : '' }}"
      data-tool="dustbath"
      type="button"
      aria-label="Draw dustbath tool"
    >
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="dustbath-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4135)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M41.3093 18.8857C42.4807 19.8857 43.2378 20.3333 43.2378 20.3333L42.9093 22.7524L44.8902 24.619L44.1759 29.4809L45.3569 31.4286L44.8902 33.6666L43.9378 35.0952L44.8902 37.9524L44.1759 41.0143L45.5997 44.919C45.5997 44.919 48.6997 46.0476 46.795 47.4762C44.8902 48.9047 41.0759 47.4762 41.0759 47.4762L29.314 48.1095C6.79974 48.4286 12.514 46.0476 13.9426 40.3333C7.27116 25.0952 20.1283 0.809502 41.3093 18.8857Z"
          fill="#D0BEA8"
        />
        <path
          d="M30.2759 21.3428C30.3616 20.6142 29.1426 20.4095 29.0521 21.1857C28.9235 22 30.1949 22.2285 30.2759 21.3428Z"
          fill="#471A03"
        />
        <path
          d="M28.5714 19.6238C28.6237 18.6905 27.1856 18.6285 27.0904 19.519C27.019 20.5666 28.4904 20.6047 28.5714 19.6238Z"
          fill="#471A03"
        />
        <path
          d="M49.1097 46.8476C48.9335 46.1619 48.1049 45.9666 47.5668 45.6762C46.8811 45.3 46.0287 42.3905 44.9287 41.6428C45.7954 38.3857 46.2382 38.1571 44.6001 35.1381C45.9287 34.0809 46.4668 31.1 45.1382 29.6238C45.8382 28.0238 46.9097 24.6238 43.8049 22.3571C44.7287 18.5095 41.3001 16.9047 38.2144 18.7143C36.3763 16.1666 34.8144 15.7524 32.2906 17.1285C31.0811 15.4952 29.4097 14.5619 27.343 14.9476C25.5621 15.2762 24.2811 16.4714 23.6287 18.1285C23.4906 18.4762 23.4954 18.8857 23.1192 19.1428C22.7001 19.4333 20.8716 19.8619 19.5478 21.3857C18.0335 23.1952 17.6001 26.5905 18.2573 28.0524C16.4573 29.0619 15.9049 32.1428 17.443 33.5666C17.8335 33.9285 17.9573 34.2952 17.8192 34.7857C16.8573 38.3666 17.0763 39.3095 18.3097 42.8857C17.2049 44.1762 15.0525 45.3571 14.8716 47.1571C14.6906 48.8286 16.5621 49.1905 17.8716 49.1428C19.6811 49.0762 22.4478 48.2714 24.2668 48.5857C26.1811 48.9143 27.8478 49.3857 29.7763 48.7476C31.1573 48.2905 33.4573 48.8571 34.843 49.0476C38.943 49.6095 40.5192 47.6381 42.9382 48.3666C44.6144 48.8714 46.0335 48.5095 47.7335 48.2619C48.4573 48.1571 49.3192 47.6762 49.1097 46.8524V46.8476ZM20.2573 23.2905C20.8716 21.7619 22.3144 20.9143 23.0811 20.9762C24.2716 21.0714 24.2668 21.1095 24.7382 20.0762C25.2906 18.319 26.4763 17.3476 28.1763 16.9333C29.7668 16.5476 30.3954 17.9476 31.5049 18.7095C31.6049 18.7762 31.7049 18.8333 31.8192 18.8714C32.343 19.0476 33.0287 18.7714 33.4811 18.5047C34.3763 17.9762 35.3049 18.3381 36.0668 18.919C36.6192 19.3381 36.8954 20.1095 37.5049 20.4285C38.6192 21.019 39.8716 19.719 41.024 19.8285C41.9716 19.8905 42.8192 20.7333 42.2954 21.7571C41.8335 22.6619 41.7859 23.6095 42.6811 24.019C45.0192 25.0952 44.0287 27.9905 43.6001 28.6285C42.8763 28.5857 40.1763 27.4238 36.824 27.4809C34.6763 27.5143 32.5144 28.1428 31.4144 27.9285C31.0906 27.8666 28.443 26.8524 25.9097 27.2238C24.5382 27.4238 22.2811 27.9476 20.8811 27.9047C20.7335 27.9 20.5811 27.8809 20.4335 27.8619C19.1144 25.9285 20.2478 23.3333 20.2668 23.2905H20.2573ZM45.3954 46.8C44.7478 47.2238 43.4097 46.5381 42.7287 46.4333C41.7573 46.2809 40.7763 46.3524 39.8525 46.7047C37.8097 47.4809 34.6859 47.3857 32.5859 46.9857C31.2954 46.7 30.0478 46.6381 28.7668 47.1619C27.6287 47.6285 26.4335 47.3619 25.2954 47.0381C23.0335 46.3857 19.6668 47.1428 17.4478 47.6286C16.6621 47.8 16.8144 47.1143 17.2001 46.7095C17.9525 45.919 18.7049 45.1238 19.4811 44.3476C20.3049 43.5285 20.624 42.0714 20.4716 40.9476C20.4525 40.8285 20.4335 40.7047 20.3621 40.6095C20.0478 40.1571 19.7573 40.9285 19.3811 40.7619C18.5192 38 19.0478 38.0714 19.5192 35.2619C20.0192 35.1524 20.4668 35.5381 20.8097 35.1905C21.2382 34.7476 21.7335 33.8666 20.9763 33.4809C18.3668 32.319 17.924 32.1095 18.9906 29.2428C21.1097 29.8714 24.0573 29.1809 26.0763 28.9047C27.9716 28.6 29.8049 29.2238 31.6287 29.3905C33.2382 29.3571 34.8335 29.0524 36.462 29.0762C37.8906 29.1 39.4811 29.1333 40.8573 29.5476C41.724 29.8095 43.4716 30.2762 44.124 30.9095C44.6478 31.419 44.5097 32.9857 43.9382 33.4476C43.8192 33.5428 43.6621 33.6143 43.4525 33.6524C41.0049 34.0905 38.524 34.5333 36.0382 34.3809C35.7335 34.3619 35.4144 34.3333 35.1287 34.4428C34.843 34.5476 34.5906 34.8333 34.6335 35.1381C34.6716 35.4238 34.9382 35.619 35.1954 35.7524C36.3192 36.319 37.6097 36.2905 38.824 36.1333C39.5287 36.0428 40.2287 35.9333 40.9335 35.8285C41.1525 35.7952 42.8097 35.4238 42.9001 35.5619C44.3859 37.719 44.1573 37.6 43.6954 40.0524C43.543 40.7571 43.2573 41.2905 42.4859 41.3619C42.443 41.9905 42.8716 42.2047 43.2097 42.3809C44.124 42.8666 44.6525 43.7714 45.062 44.6905C45.243 45.0952 45.9382 46.4381 45.3954 46.7952V46.8Z"
          fill="#471A03"
        />
        <path
          d="M26.8431 22.2381C26.8527 21.2857 25.4003 21.581 25.5098 22.3571C25.6289 23.2333 26.8527 23.1762 26.8431 22.2381Z"
          fill="#471A03"
        />
        <defs>
          <clipPath id="clip0_515_4135">
            <rect width="58" height="58" fill="white" transform="translate(3 3)" />
          </clipPath>
        </defs>
      </svg>
    </button>

    {{-- Insectary --}}
    <button
      class="element-tool-btn tool-btn {{ !plan.isEnclosed ? ' disabled' : '' }}"
      data-tool="insectary"
      type="button"
      aria-label="Draw insectary tool"
    >
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="insectary-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4149)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M23.3286 45.0952C23.3286 45.0952 23.5048 46.0476 27.4667 45.0952C31.4286 44.1429 36.1524 41.2714 36.1524 41.2714L40.7762 34.7381V30.6905L43.3286 28.4286C43.3286 28.4286 44.6953 28.3905 43.3286 25.6952C29.5191 -1.57144 3.80481 34.619 23.3286 45.0952Z"
          fill="#B8C6E2"
        />
        <path
          d="M33.948 24.2524C34.3766 22.3952 36.3433 21.0428 37.8052 20.9524C38.0433 19.9571 39.0385 17.9666 40.0385 16.7476C40.0004 16.4571 40.0766 15.7714 40.229 15.519C40.7385 14.5905 42.1528 14.6381 42.4099 15.6619C42.5195 16.1666 42.0718 17.3762 41.2957 17.419C40.4099 18.3571 39.6242 19.9619 39.3814 21.0476C41.6195 21.1428 43.6242 23.3905 44.029 24.7285C44.7528 24.7619 45.9433 23.7524 46.3099 23.1524C46.0242 21.7476 47.4576 20.6857 48.4052 21.4333C49.3338 22.1666 48.5671 23.7238 47.5766 23.8285C47.1623 24.3905 46.9623 24.6571 46.4385 25.0619C45.5814 25.719 45.2814 25.9 44.3576 26.3333C44.3433 28.4524 43.4147 30.5905 41.3385 30.9857C41.4528 32.7 41.3576 34.2905 40.4957 35.8571C42.5576 36.5714 44.1385 38.2238 45.0528 40.1905C45.5957 41.2381 44.4004 41.6857 43.7957 40.9666C43.629 40.7714 43.4528 40.5714 43.3528 40.3381C42.8861 39.219 41.2576 37.4524 39.8623 37.3714C39.2957 38.2428 38.8052 39.2285 37.9433 40.019C38.8338 40.9047 40.9766 45.6285 38.9909 46.0095C38.7147 46.0143 38.3576 45.719 38.2671 45.3333C37.8576 44.0333 37.9052 42.5095 36.6004 41.2714C35.8957 41.8095 35.1671 42.3666 34.3909 42.9571C35.1052 44.6285 35.5385 46.5762 34.9718 48.3524C34.9195 48.8285 34.3909 49.1952 33.929 49.1333C33.6576 49.0857 33.4433 48.7857 33.4718 48.3714C33.648 46.8476 33.8099 45.3476 33.1338 43.8905C31.0718 44.9714 29.0671 45.8762 26.7147 45.9857C23.9623 46.1143 21.1766 45.0285 19.5576 42.6905C17.8861 40.2762 18.2623 36.4095 19.8433 33.2571C18.8861 32.0666 17.1814 31.6809 15.7766 31.2285C15.2147 31.0476 14.8576 29.8714 15.6052 29.6809C16.4147 29.4762 19.3957 30.2952 20.729 31.6476C21.4099 30.7381 22.2576 29.5952 22.8385 28.9571C22.0004 27.7809 19.7147 26.2238 19.729 25.2571C19.7433 24.3047 20.4576 24.4619 21.2147 25.0143C22.3528 25.8476 23.7623 27.5952 23.9909 27.8524C24.6004 27.319 25.148 26.8333 25.729 26.3238C25.8052 25.5857 25.5576 24.7666 25.2957 23.9714C24.9528 22.9285 24.3147 22.019 23.948 21.0047C23.7004 20.3666 24.6004 19.8 25.0957 20.2714C26.229 21.3809 27.0433 23.8047 27.2195 25.0905C28.2623 24.4 29.5195 23.9333 30.6623 23.8381C31.7147 23.7524 32.8147 23.9 33.9576 24.2619L33.948 24.2524ZM21.1052 41.8476C21.8719 41.1666 23.2576 39.8905 24.0242 39.219C27.0623 36.5809 34.9766 30.5095 30.8099 26.1762C30.1718 25.4762 29.9242 25.6619 29.1338 25.9857C27.2576 26.7714 25.8004 28.2381 24.4814 29.7476C22.7909 31.6762 21.0623 33.8333 20.2814 36.3143C19.9099 37.4809 19.548 39.7952 21.1004 41.8476H21.1052ZM22.2718 43.1285C23.8004 44.9 27.3861 44.5905 29.9433 43.5619C31.9671 42.7476 34.0004 41.2857 35.629 39.8381C36.4385 39.1143 37.1528 38.2571 37.7814 37.3809C38.029 37.0285 39.348 35.3905 39.3909 34.5095C39.4338 33.6524 38.6623 33.4285 37.9576 33.2285C36.7099 32.8905 35.4957 32.7143 34.2385 33.1905C33.048 33.6762 31.9385 34.3 30.9766 35.1905C28.0718 37.8857 24.8766 40.1571 22.2766 43.1285H22.2718ZM39.9623 29.5381C40.448 29.8333 41.0766 29.8285 41.5338 29.4857C43.7433 27.8524 42.6385 24.1857 40.1385 23.0952C38.3385 22.2476 37.0433 22.6 35.7766 24.119C35.1814 24.8381 35.9338 25.6143 36.3814 26.2047C37.3718 27.5143 38.5718 28.7 39.9623 29.5333V29.5381ZM39.5909 30.8714C37.6004 29.7666 35.8052 28.5619 34.6099 26.5666C34.148 25.8285 33.429 25.6333 32.5147 25.5666C34.129 27.4381 33.8671 29.6143 32.9957 31.7857C35.4147 31.0666 37.6242 31.1809 39.7385 32.3238C39.8338 31.9762 39.7957 31.3857 39.5957 30.8762L39.5909 30.8714Z"
          fill="#471A03"
        />
        <defs>
          <clipPath id="clip0_515_4149">
            <rect width="58" height="58" fill="white" transform="translate(3 3)" />
          </clipPath>
        </defs>
      </svg>
    </button>

    {{-- Perch --}}
    <button
      class="element-tool-btn tool-btn {{ !plan.isEnclosed ? ' disabled' : '' }}"
      data-tool="perch"
      type="button"
      aria-label="Draw perch tool"
    >
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="perch-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4177)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M20.4002 47.4762C21.3526 45.0953 24.905 40.5238 27.4145 40.1905C29.924 39.8572 30.8764 35.5715 33.2574 35.0953C35.6383 34.6191 38.105 33.3095 38.105 33.3095H39.7288C39.7288 33.3095 39.4478 36.0476 40.8764 37C42.305 37.9524 45.6383 39.381 45.6383 39.381V36.5572L42.6764 33.9381L38.4955 32.7143C38.4955 32.7143 38.0193 31.2857 36.1145 31.7619C34.2097 32.2381 33.1002 32.1238 33.1002 32.1238L34.2097 29.381L37.5431 28.4286L39.4478 26.0476L39.924 25.0953C39.924 25.0953 40.8764 25.5715 42.305 25.5715C43.7335 25.5715 44.2097 26.0476 45.1621 25.0953C46.1145 24.1429 49.3716 22.4572 48.6955 21.6334C48.0193 20.8095 44.6859 20.3334 43.2574 21.7619C41.8288 23.1905 38.4955 26.0476 38.4955 26.0476L37.5431 26.5238L37.1621 25.6953C37.1621 25.6953 38.0193 25.0953 38.4955 23.1905C38.9716 21.2857 38.7669 10.8334 33.2574 14.6191C29.924 17.9524 32.7812 21.7619 34.2097 27.4762L28.0193 35.5715L26.5907 36.0476L25.6383 30.8095L25.4002 28.5048C25.4002 28.5048 27.2002 27.8953 28.0193 26.5238C29.3097 24.3572 29.5621 20.8334 27.0669 18.9048C16.5907 10.8096 11.8288 33.1905 19.4574 35.9905C15.1669 37 12.924 42.6476 15.1669 44.1429C16.5955 45.0953 19.4526 47.4762 20.405 47.4762H20.4002Z"
          fill="#D2DB93"
        />
        <path
          d="M35.7718 31.4667C35.2004 31.5619 34.5861 31.6762 34.0004 31.7809C34.0432 31.6476 34.0813 31.5286 34.0813 31.5286C34.1432 31.3286 34.4909 30.2238 34.5528 30.0238C34.5956 30.0048 34.6575 29.9762 34.6575 29.9762C35.3432 29.6905 36.0337 29.3952 36.7194 29.1C37.4528 28.7905 38.1337 28.319 38.6718 27.7381C39.0004 27.3762 39.9099 26.5619 39.7766 25.9571C39.7766 25.9571 40.129 25.5333 40.1718 25.5476C40.4528 25.6476 40.7337 25.7429 41.0147 25.8333C41.3528 25.9429 41.7194 26.0524 42.0575 26.1524C43.4528 26.5524 45.0813 26.0667 46.0861 24.9714C46.1575 24.9 46.3528 24.7048 46.429 24.6238C46.8813 24.1714 47.348 23.7333 47.8242 23.3048C48.0718 23.0857 48.5671 22.6429 48.8099 22.4238C49.1242 22.1571 49.229 21.6809 49.0671 21.3048C48.9623 21.0429 48.7194 20.8238 48.448 20.7429H48.4385L48.3909 20.7286L48.029 20.6333C47.5432 20.519 47.0432 20.4476 46.5432 20.4429C45.548 20.419 44.548 20.6143 43.6385 21.0143C42.7385 21.4 41.929 21.9952 41.2813 22.7238C40.6052 23.5571 39.1052 25.2 38.9575 25.2714C38.9242 25.2857 38.8861 25.3143 38.8575 25.3333L38.8004 25.3762L38.5623 25.5476C38.3528 25.7 38.148 25.8476 37.9385 26C37.8766 26.0476 37.529 25.5667 37.5718 25.519C37.7623 25.319 37.9432 25.119 38.1242 24.9143C38.3575 24.6524 38.6052 24.3571 38.8337 24.0905C39.7623 22.9714 39.9671 21.2857 39.3671 19.9286C39.329 19.8333 39.229 19.5762 39.1909 19.4762C38.9575 18.8762 38.7432 18.2762 38.5432 17.6667C38.4432 17.3524 38.2337 16.7238 38.129 16.4095C38.0051 16.0143 37.6147 15.7286 37.2052 15.7286C36.9242 15.719 36.6242 15.8524 36.4432 16.0714L36.4337 16.0809L36.4051 16.119L36.1718 16.4143C35.8718 16.8143 35.6052 17.2429 35.4004 17.7C34.9766 18.6 34.7575 19.5952 34.7575 20.5905C34.7528 21.5714 34.9718 22.5476 35.3766 23.4333C35.929 24.5 36.5432 25.5048 37.1956 26.5095C37.1909 26.5095 37.1813 26.519 37.1766 26.519C36.8766 26.6762 36.5194 26.7524 36.1861 26.7905L35.6099 26.8762C35.2337 26.9381 34.8242 26.9857 34.4385 27.0619C34.0099 27.1476 33.5909 27.3095 33.2004 27.5143C32.3718 27.9571 31.6813 28.6809 31.2528 29.5381C31.2194 29.6095 31.0861 29.8571 31.0528 29.9238C30.7956 30.4238 30.5147 30.9762 30.2623 31.4762C30.0813 31.8381 29.929 32.1333 29.7432 32.4333C29.0385 33.5762 28.0432 34.5286 26.8813 35.2C26.7909 33.8714 26.7004 32.5429 26.5909 31.2143C26.5147 30.7286 26.1813 30.3381 25.7432 30.1667C25.7099 30.1524 25.5861 29.1571 25.6147 29.1429C25.8813 29 26.148 28.8571 26.4099 28.7048C26.7147 28.5286 27.0432 28.3333 27.348 28.1476C28.5861 27.3857 29.3194 25.8524 29.1861 24.3762C29.1813 24.2714 29.1671 24 29.1623 23.8905C29.1337 23.2476 29.1194 22.6095 29.129 21.9714C29.1337 21.6429 29.1385 20.9809 29.1385 20.6476C29.148 20.2333 28.8671 19.8381 28.4766 19.7048C28.2099 19.6048 27.8813 19.6381 27.6337 19.7905C27.629 19.7905 27.2909 20.0143 27.2766 20.019C26.8671 20.3048 26.4766 20.6238 26.1337 20.9905C25.448 21.7095 24.9194 22.5809 24.6004 23.5238C24.2813 24.4524 24.1766 25.4476 24.2813 26.419C24.4718 27.6571 24.9861 30.0429 24.9575 30.0381C24.9385 30.0381 24.9242 30.0381 24.9099 30.0333C24.8432 30.0238 24.7766 30.019 24.7099 30.019C24.3385 29.1667 23.9432 28.3524 23.4671 27.5429C22.6242 26.2238 21.1861 25.3286 19.6385 25.1048C19.1813 25.0429 18.7194 25.0333 18.2575 25.0762L17.9528 25.1143H17.9147C17.6385 25.1571 17.3718 25.3429 17.2337 25.5809C17.0337 25.9048 17.0623 26.3571 17.3004 26.6571C17.429 26.8143 17.7147 27.1476 17.8432 27.3C18.2337 27.7429 18.6099 28.2 18.9718 28.6619L19.3004 29.0857C19.8432 29.7762 20.6575 30.2429 21.529 30.3476C21.8194 30.3809 22.1051 30.3762 22.3956 30.3333C22.6718 30.2809 22.9766 30.2238 23.248 30.1619C23.4575 30.1143 23.6671 30.0667 23.8766 30.0143C23.9099 30.0048 23.9766 30.2429 23.9528 30.2619C23.6432 30.4809 23.4242 30.8238 23.3909 31.219C23.2861 32.9524 23.2004 34.6857 23.1194 36.419C23.1194 36.5286 23.1004 36.6476 23.029 36.7381C22.9766 36.8095 22.9051 36.8667 22.8242 36.9C22.7337 36.9429 21.3766 37.5857 21.2385 37.6476C21.0099 37.7571 20.4004 38.0476 20.1813 38.1571C17.1909 39.819 13.8385 44.1524 15.129 44.7333C15.7671 45.019 16.6909 43.5762 18.1337 41.7095C19.529 39.7905 22.3718 38.5381 23.1766 38.2143L23.3575 38.1429L23.4051 38.1238C24.0528 37.8619 24.4813 37.2143 24.5242 36.519C24.6718 35.0333 23.9337 30.8238 24.8813 30.8238C25.829 30.8238 25.6147 35.1095 25.7242 36.6333C25.7528 37.2429 25.9718 37.6333 26.5099 37.3333C26.6813 37.2381 27.1099 37.0143 27.2766 36.9238C28.4956 36.2857 29.5766 35.3857 30.4004 34.2857C31.1623 33.3143 31.6147 32.1571 32.0956 31.0524L32.5528 30C32.9051 29.1809 33.6194 28.5048 34.4575 28.1714C34.7099 28.0714 34.948 28.0143 35.229 27.9381C35.5099 27.8619 36.0671 27.7143 36.3528 27.6333C37.5337 27.5048 38.5432 26.2619 38.7194 26.4429C38.9575 26.6809 37.5385 27.9809 35.7766 28.3952C35.2718 28.5476 34.7528 28.7048 34.248 28.8619L34.0956 28.9095C33.7718 29.0095 33.5051 29.2571 33.3766 29.5714L33.2528 29.8762C33.1623 30.1048 32.729 31.1476 32.648 31.3571C32.6194 31.4286 32.5718 31.5429 32.5432 31.619C32.2242 32.3857 32.7861 32.8048 33.6194 32.8571C33.7766 32.8714 33.9432 32.8429 34.1004 32.8238L34.7337 32.7429C35.3861 32.6524 37.5385 31.7667 37.5385 32.7143C37.5385 33.6619 34.3813 34.0905 34.3813 34.0905C33.2813 34.1333 31.9432 34.3857 30.3575 36.5381C28.0766 39.3381 24.9242 40.3333 22.3956 43.1238C21.1813 44.4667 18.6099 48.3286 20.1242 48.2667C21.448 48.2143 22.8671 43.5952 25.8861 41.8905C27.0861 41.2905 28.2004 40.519 29.1813 39.6C29.7956 39.0095 30.4004 38.3571 30.9956 37.7476C31.4337 37.2905 32.3194 36.3619 32.7575 35.9C33.029 35.619 33.3956 35.4429 33.7861 35.4048C35.1099 35.0952 38.1718 34.6524 38.7766 33.619C38.8052 33.5667 38.8337 33.5143 38.848 33.4571C39.0194 33.5476 39.1909 33.6286 39.3671 33.7143C39.4004 34.4476 39.4718 34.7095 39.5575 35.4381C39.7337 36.8809 40.8194 38.1857 42.2194 38.6809C42.3147 38.719 42.5718 38.819 42.6718 38.8619C43.2671 39.1 43.8528 39.3571 44.429 39.6333C44.729 39.7762 45.329 40.0571 45.629 40.1952C46.0004 40.3762 46.4813 40.2857 46.7623 39.9857C46.9623 39.7857 47.0718 39.4809 47.0385 39.1952V39.1857L47.029 39.1381L46.9766 38.7667C46.8909 38.2762 46.7623 37.7857 46.5718 37.3238C46.2051 36.4 45.6337 35.5571 44.9099 34.8762C44.2004 34.2 43.3385 33.6905 42.4147 33.3762C41.2432 33.0429 40.0766 32.7952 38.8813 32.5809C38.4909 30.8143 36.1242 31.4095 35.7671 31.4619L35.7718 31.4667ZM36.348 22.1048C36.048 20.6333 36.2623 19.1286 36.9623 17.8429C37.1861 18.4619 37.429 19.5476 37.7194 20.1286C37.8051 20.3 37.8956 20.4857 37.9861 20.6571C38.4528 21.5381 37.4099 23.8619 37.2147 24.3095C37.0385 23.7619 36.429 22.4667 36.348 22.1048ZM25.4718 25.9143C25.6575 24.4238 25.7147 22.3048 27.8909 21.1238C27.9051 21.7809 27.6099 24.4238 27.6385 24.6143C27.6099 27.5095 25.4385 27.7809 25.4385 27.7809C25.4385 27.7809 25.4385 26.2809 25.4718 25.9143ZM25.4956 31.3809C25.4956 31.3809 25.4956 31.3952 25.4956 31.4V31.3857V31.3762V31.3809ZM22.3147 29.3429C21.548 29.2238 20.9861 28.9286 20.0766 28.1381C19.0909 27.0333 18.9813 26.6809 18.6861 26.3C19.6337 26.419 21.4909 27.2952 22.2147 27.9238C22.4671 28.1333 22.8766 28.9286 23.2242 29.5381C23.0671 29.5143 22.6099 29.3857 22.3147 29.3476V29.3429ZM40.3051 33.9381C40.829 34.1857 42.0575 34.4857 42.3766 34.6714C43.6528 35.4619 44.6004 36.6476 45.0575 38.0429C44.4528 37.7809 42.2861 37.4476 41.129 36.2238C40.6337 35.7 40.5004 34.3857 40.3051 33.9381ZM33.8956 32.1238C33.8956 32.1238 33.8956 32.1143 33.9051 32.0905C33.9051 32.1 33.9004 32.1143 33.8956 32.1238ZM34.4956 30.0571L34.5147 30.0476C34.5147 30.0476 34.5337 30.0381 34.548 30.0333C34.5337 30.0476 34.5147 30.0524 34.4956 30.0571ZM44.8671 24.0095C42.7575 26.0905 41.7813 24.6762 41.2909 24.6762C41.7242 24.2905 42.1528 23.5 42.448 23.2809C43.7004 21.8333 46.0861 21.5333 47.548 21.6619C47.0718 22.1143 44.9909 23.8619 44.8671 24.0095Z"
          fill="#471A03"
        />
        <defs>
          <clipPath id="clip0_515_4177">
            <rect width="58" height="58" fill="white" transform="translate(3 3)" />
          </clipPath>
        </defs>
      </svg>
    </button>

    {{-- Shrub --}}
    <button
      class="element-tool-btn tool-btn {{ !plan.isEnclosed ? ' disabled' : '' }}"
      data-tool="shrub"
      type="button"
      aria-label="Draw shrub tool"
    >
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="shrub-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4163)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M25.5712 42.7143C25.5712 42.7143 40.0093 43.6667 43.0283 42.7143C46.0474 41.7619 49.5902 40.3048 47.3426 36.9857C47.9522 35.0952 49.4283 31.9619 43.6902 28.7667C44.6188 26.0476 36.0474 13.1905 20.8093 18.9048C5.5712 24.6191 12.2379 44.1429 25.5712 42.7143Z"
          fill="#81B995"
        />
        <path
          d="M41.4522 39.9143C41.0713 39.9143 40.7665 39.6524 40.7094 39.2762C40.6522 38.9 40.8665 38.5572 41.2284 38.4429C41.5522 38.3429 41.8379 38.081 42.0189 37.7334C42.1951 37.3857 42.2332 37 42.1237 36.681C41.9903 36.2905 42.1998 35.8572 42.5951 35.7238C42.676 35.6953 42.757 35.681 42.8379 35.681C43.1617 35.681 43.4475 35.8857 43.5522 36.1905C43.7903 36.8953 43.7237 37.7048 43.3617 38.4143C42.8713 39.381 41.9237 39.9143 41.457 39.9143H41.4522Z"
          fill="#471A03"
        />
        <path
          d="M39.0091 30.9905C38.6472 30.9905 38.3329 30.7333 38.271 30.3762C38.19 29.9476 37.8519 29.5619 37.4329 29.4191C37.2424 29.3572 37.09 29.2238 36.9995 29.0429C36.9091 28.8619 36.8948 28.6572 36.9614 28.4667C37.0662 28.1572 37.3519 27.9524 37.6757 27.9524C37.7567 27.9524 37.8376 27.9667 37.9138 27.9905C38.8472 28.3048 39.571 29.1286 39.7567 30.0952C39.7995 30.3191 39.7424 30.5429 39.5948 30.7191C39.4519 30.8905 39.2376 30.9905 39.0138 30.9905H39.0091Z"
          fill="#471A03"
        />
        <path
          d="M23.3234 43.5238C23.1377 43.5381 22.9567 43.5238 22.7758 43.5238C20.3567 43.5238 15.5186 42.6524 14.9234 38.3476C14.7662 37.1952 14.871 36 15.5472 35.0857C16.052 34.4095 16.7472 33.9619 17.5424 33.7905C16.8948 32.6952 16.671 31.4238 16.9139 30.1476C17.1901 28.6952 18.0615 27.4286 19.2996 26.6714C20.1043 26.1857 21.0424 25.9286 22.0186 25.9286C22.4472 25.9286 22.871 25.981 23.2758 26.081C23.7567 22.8048 26.7472 20.4667 30.5662 20.4667C32.9329 20.4667 35.2043 21.4048 36.9901 23.1143C37.7901 22.8476 38.5805 22.7095 39.3424 22.7095C41.352 22.7095 43.1139 23.7 43.9424 25.2905C44.4901 26.3476 44.5377 27.5 44.0805 28.4857C45.9091 28.6667 47.652 29.8 48.5186 31.4143C49.4329 33.1143 49.3329 35.1857 48.2758 36.8857C48.8043 37.6143 48.8948 38.9095 48.7043 39.6238C48.5091 40.3572 48.1424 40.981 47.6139 41.4714C46.1424 42.8 44.2282 43.5333 42.2282 43.5333M44.4567 41.7C45.5758 41.2524 46.5472 40.6524 46.9234 39.7619C47.1139 39.3095 47.0948 38.7238 46.8805 38.2619C46.771 38.0333 46.571 37.7381 46.2091 37.6286C45.9139 37.5381 45.7139 37.2952 45.6805 36.9905C45.6472 36.6857 45.7901 36.4048 46.0567 36.2524C46.9139 35.7667 47.4329 34.681 47.3282 33.6143C47.2329 32.5762 46.5948 31.5667 45.6186 30.9048C44.7424 30.3095 43.6424 30.0095 42.2662 29.9905C41.8996 29.9572 41.6329 29.7476 41.5424 29.4429C41.4567 29.1524 41.5567 28.8381 41.7996 28.6429C42.352 28.2048 42.5329 27.2905 42.2139 26.5619C41.8567 25.7476 40.9901 25 40.1948 24.8238C39.952 24.7714 39.6758 24.7429 39.3805 24.7429C38.6805 24.7429 37.8472 24.8952 37.1424 25.1524C37.0615 25.181 36.9758 25.2 36.8853 25.2C36.671 25.2 36.4662 25.1095 36.3234 24.9476C34.6139 23.0524 32.471 22.0048 30.2853 22.0048C29.0805 22.0048 27.9424 22.3333 26.9996 22.9524C25.552 23.9048 24.6567 25.5286 24.7282 27.0952C24.7377 27.3048 24.6615 27.5 24.5186 27.6524C24.3758 27.8 24.1758 27.8857 23.971 27.8857C23.8567 27.8857 23.7424 27.8572 23.6377 27.8048C23.152 27.5619 22.5901 27.4333 22.0186 27.4333C21.3234 27.4333 20.6567 27.6143 20.0901 27.9619C19.0139 28.6191 18.3567 29.781 18.3377 31.0667C18.3139 32.3429 18.9091 33.5048 19.9234 34.1762C20.271 34.4095 20.3662 34.8619 20.1472 35.2095C20.0091 35.4286 19.771 35.5619 19.5091 35.5619C19.371 35.5619 19.2377 35.5238 19.1186 35.4524C18.8805 35.3095 18.5901 35.2333 18.2805 35.2333C17.8043 35.2333 17.3329 35.4143 16.9948 35.7238C16.4234 36.2524 16.3615 37.1381 16.3853 37.9857C16.471 41.2286 21.052 41.9762 22.7758 42.0048C27.6186 42.0905 32.371 41.9905 36.2234 42.181C39.8424 42.3572 43.3139 42.3048 44.452 41.7048L44.4567 41.7Z"
          fill="#471A03"
        />
        <path
          d="M25.338 30.6762C25.3903 29.7429 23.9522 29.681 23.857 30.5715C23.7856 31.6191 25.257 31.6572 25.338 30.6762Z"
          fill="#471A03"
        />
        <path
          d="M25.338 34.0095C25.3903 33.0762 23.9522 33.0143 23.857 33.9048C23.7856 34.9524 25.257 34.9905 25.338 34.0095Z"
          fill="#471A03"
        />
        <path
          d="M27.9995 33.1571C28.0852 32.4286 26.8662 32.2238 26.7757 33C26.6472 33.8143 27.9186 34.0429 27.9995 33.1571Z"
          fill="#471A03"
        />
        <defs>
          <clipPath id="clip0_515_4163">
            <rect width="58" height="58" fill="white" transform="translate(3 3)" />
          </clipPath>
        </defs>
      </svg>
    </button>

    {{-- Tree --}}
    <button
      class="element-tool-btn tool-btn {{ !plan.isEnclosed ? ' disabled' : '' }}"
      data-tool="tree"
      type="button"
      aria-label="Draw tree tool"
    >
      <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect id="tree-bg" width="64" height="64" rx="2" fill="#F1EFE9" />
        <g opacity="0.7" clip-path="url(#clip0_515_4128)">
          <path
            d="M54.1676 61H13.6094C11.823 60.9142 8.70488 60.3527 7.9184 57.5409C7.87664 57.3901 7.84184 57.237 7.81632 57.0838C3.74936 56.1674 3.09512 53.6502 3 51.2931V51.2699V11.236C3 10.9158 3.25984 10.656 3.58 10.656C3.90016 10.656 4.16 10.9158 4.16 11.236V51.2583C4.2528 53.5551 4.90936 55.1466 7.76528 55.8798C7.91144 53.859 9.1596 51.8151 10.6096 50.8384C11.8021 50.0357 13.034 49.9986 13.9898 50.7386C15.0176 51.5321 15.296 52.7408 14.7369 53.9704C13.9481 55.7034 11.5422 57.2973 9.04128 57.2486C9.49136 58.8215 11.0852 59.717 13.6511 59.84H54.1676C54.4878 59.84 54.7476 60.0998 54.7476 60.42C54.7476 60.7402 54.4878 61 54.1676 61ZM8.91136 56.0816C10.9483 56.1999 13.0386 54.9054 13.6813 53.4902C14.0223 52.7408 13.8878 52.126 13.2822 51.6574C12.5839 51.1191 11.7974 51.437 11.2592 51.8012C10.0505 52.6155 8.98328 54.3973 8.91368 56.0839L8.91136 56.0816Z"
            fill="#482300"
          />
          <path
            d="M5.78197 5.0903C5.78197 5.73294 5.49197 6.25262 4.84701 6.25262C4.20205 6.25262 3.67773 5.73294 3.67773 5.0903C3.67773 4.44766 4.20205 3.92798 4.84701 3.92798C5.49197 3.92798 5.78197 4.44766 5.78197 5.0903Z"
            fill="#482300"
          />
          <path
            d="M60.3132 58.1186C60.3132 58.7612 60.0232 59.2809 59.3783 59.2809C58.7333 59.2809 58.209 58.7612 58.209 58.1186C58.209 57.4759 58.7333 56.7242 59.3783 56.7242C60.0232 56.7242 60.3132 57.4759 60.3132 58.1186Z"
            fill="#482300"
          />
          <path
            d="M60.4196 54.4135C60.0994 54.4135 59.8396 54.1537 59.8396 53.8335V13.5838C59.7143 11.0365 58.8118 9.45424 57.225 9.0088C57.2946 11.4912 55.7193 13.8414 53.9538 14.6534C52.7079 15.2264 51.483 14.955 50.6779 13.9272C49.9402 12.9853 49.968 11.7719 50.7499 10.598C51.7289 9.13176 53.7937 7.872 55.8492 7.72816C55.1091 4.89544 53.5014 4.24816 51.1837 4.15536H10.9062C10.586 4.15536 10.3262 3.89552 10.3262 3.57536C10.3262 3.2552 10.586 2.99536 10.9062 2.99536H51.2069C53.5988 3.09048 56.1346 3.73776 57.0556 7.78152C57.2134 7.80704 57.3665 7.84184 57.5196 7.8836C60.3454 8.66776 60.9114 11.7626 60.995 13.5398V13.5676V53.8312C60.995 54.1514 60.7351 54.4112 60.415 54.4112L60.4196 54.4135ZM56.0557 8.88584C54.3598 8.9624 52.5247 10.0296 51.715 11.243C51.3647 11.7673 51.0607 12.5352 51.5897 13.2126C52.0676 13.8228 52.6987 13.9527 53.4666 13.6001C54.8748 12.9505 56.167 10.8857 56.0534 8.88584H56.0557Z"
            fill="#482300"
          />
        </g>
        <path
          class="blob"
          d="M33.124 45.0953L40.2668 43.6667L44.0764 39.8572L41.8859 33.9953L44.0764 29.2238L41.2192 22.7143L37.6335 22.4143C37.6335 22.4143 37.8859 21.2857 36.4668 18.1667C31.3573 10.3191 23.6002 11.2857 19.4192 14.8572C14.3478 19.8857 14.7573 30.2667 18.8383 32.7143C13.6002 37 16.4573 47.9524 33.124 45.0953Z"
          fill="#B6D5A0"
        />
        <path
          d="M32.8142 49.1428C32.5047 49.1428 32.2285 49.0047 32.1523 48.8095C31.9047 48.0047 31.7809 47.1428 31.7809 46.2714V45.8666L31.3809 45.8809C31.2714 45.8809 31.1285 45.8905 30.9666 45.9C30.6142 45.919 30.1761 45.9428 29.7666 45.9428C29.6476 45.9428 29.538 45.9428 29.4285 45.9381C28.4618 45.9 27.938 45.8619 26.9142 45.7476C24.719 45.4952 22.7285 44.6666 21.5809 43.5333C20.2714 42.2 19.4476 40.4428 19.2714 38.5762C19.1618 37.7238 19.2904 36.8714 19.6428 36.1C19.9952 35.3286 20.5571 34.6762 21.2666 34.2095C21.3095 34.1809 21.3952 34.1476 21.4856 34.1095C21.8142 33.9714 22.1809 33.819 22.2999 33.4952C22.4618 33.0476 22.0714 32.6333 21.7809 32.3333C21.7285 32.2762 21.6809 32.2285 21.6523 32.1905C20.6714 31.0714 20.0475 29.719 19.8428 28.2666C19.638 26.2285 20.0666 24.3381 21.0142 23.0905C21.5428 22.4 22.2475 21.8619 23.0571 21.5381C23.4904 21.3666 23.9475 21.2762 24.4142 21.2762H24.5142C24.8237 21.2762 25.1428 21.3047 25.4761 21.3333L25.838 21.3619H25.8761C26.0047 21.3428 26.1333 21.2952 26.2428 21.219C26.3523 21.1428 26.438 21.0381 26.4952 20.9238L26.5095 20.8952L26.519 20.8619C26.6333 20.4762 26.7047 20.0762 26.7714 19.6905C26.8809 19.0619 26.9856 18.4714 27.2666 17.9666C28.3285 16.0714 30.3952 14.8476 32.538 14.8476C33.9237 14.8476 35.1904 15.3476 36.2047 16.2857C36.8095 16.8571 37.2952 17.5666 37.6047 18.3428C37.8523 18.9428 37.9904 19.5666 38.0095 20.2095V20.3666C38.0095 20.8285 38.0047 21.1333 38.219 21.3476C38.4095 21.5381 38.6714 21.5428 38.7618 21.5428C38.8571 21.5428 38.9761 21.5333 39.1237 21.5143C39.1237 21.5143 39.2047 21.5143 39.238 21.5143C40.0285 21.5143 40.8095 21.7857 41.4285 22.2809C42.0761 22.7809 42.619 23.3809 43.0523 24.0714C44.619 26.4285 45.5809 30.1666 43.1523 32.9666C42.438 33.7857 43.1475 34.7047 43.6142 35.3095C43.7333 35.4619 43.8428 35.6047 43.9237 35.7333C44.4523 36.5428 44.7428 37.4762 44.7714 38.4333C44.7475 39.4238 44.4142 40.3952 43.819 41.219C42.9095 42.5095 41.6714 43.5381 40.238 44.2C39.1761 44.6857 38.0571 45.0762 36.9237 45.3666C36.1237 45.5714 34.5904 45.8047 33.7475 45.9285L33.438 45.9714L33.419 46.2857C33.4095 46.4571 33.419 46.8857 33.4285 47.5238C33.438 47.9285 33.4475 48.3238 33.4428 48.5333V48.5571V48.5809C33.4618 48.7333 33.4333 48.8524 33.3523 48.9381C33.2428 49.0571 33.0476 49.1333 32.819 49.1333L32.8142 49.1428ZM24.5428 22.7905C24.0047 22.7905 23.4999 22.9809 22.9904 23.3666C22.0095 24.1381 21.3714 25.2381 21.1952 26.4714C21.0333 27.8857 21.3523 29.3238 22.0856 30.5285C22.4952 31.2238 23.0999 31.7095 23.6809 32.1809C23.8999 32.3571 24.119 32.5333 24.3237 32.7238C24.7571 33.119 25.1476 33.719 24.9904 34.1047C24.8142 34.5285 23.9666 34.7952 23.3475 34.9905C23.0333 35.0905 22.738 35.1809 22.5095 35.2952C22.1475 35.4381 21.7999 35.6666 21.5047 35.9666C21.2095 36.2714 20.9809 36.619 20.838 37.0095L20.8285 37.0333V37.0619C20.7095 37.5714 20.7095 38.1143 20.8285 38.6333C20.938 39.4952 21.1904 40.3666 21.5666 41.1952C22.038 42.119 22.8047 42.8571 23.7285 43.2905C25.1047 44.0285 26.6428 44.3762 28.5476 44.3762C29.2237 44.3762 29.9761 44.3333 30.919 44.2428C31.8285 44.1571 31.7904 43.5095 31.7714 43.0809C31.7714 43.0047 31.7618 42.9285 31.7618 42.8428C31.7476 42.1047 31.7428 41.4095 31.738 40.7285C31.7285 39.5286 31.719 38.4 31.6714 37.1095C31.6856 36.8524 31.6142 36.5714 31.4714 36.3238C30.9047 35.5524 30.3095 34.8476 29.6809 34.1952C29.5856 34.0952 29.4618 33.9809 29.3285 33.8524C28.7952 33.3428 27.9095 32.4905 27.8952 31.8952C27.8952 31.7619 27.938 31.6476 28.0428 31.5381C28.1618 31.3857 28.2904 31.3047 28.4333 31.2762C28.4714 31.2666 28.5095 31.2666 28.5523 31.2666C28.6571 31.2666 28.7666 31.2952 28.8571 31.3476C29.538 31.6571 30.0095 32.2 30.5047 32.7714C30.6237 32.9095 30.7428 33.0428 30.8618 33.1809L30.9761 33.3095H31.3237L31.4428 33.1857C31.5904 33.0285 31.5904 32.9952 31.4714 31.4666C31.4428 31.1047 31.419 30.7619 31.4095 30.5571C31.3999 30.3762 31.3856 30.1809 31.3714 29.9809C31.3095 29.0952 31.2285 27.8857 31.6571 27.519C31.7809 27.4143 31.9333 27.3571 32.0904 27.3571C32.4285 27.3571 32.7952 27.6238 32.8428 28.219C33.0095 30.2333 33.1285 33.0143 33.1904 36.4857C33.1999 36.9714 33.2095 37.4476 33.6952 37.4476C33.7523 37.4476 33.8095 37.4381 33.8714 37.419L33.9237 37.4L33.9714 37.3666C34.2285 37.1905 34.4571 36.9857 34.6809 36.7905C34.9285 36.5714 35.1666 36.3619 35.4237 36.2047C35.5285 36.1381 35.6237 36.1047 35.7237 36.1047C35.9523 36.1047 36.1856 36.2809 36.2952 36.5333C36.3523 36.6666 36.419 36.9286 36.2095 37.1571C35.5428 37.8809 34.9333 38.6476 34.3428 39.3952L33.9523 39.8905C33.6904 40.2476 33.4904 40.619 33.3476 41.0095L33.338 41.0381V41.0666C33.1952 41.7476 33.1714 42.4428 33.2666 43.1286C33.319 43.6381 33.3761 44.1809 34.1428 44.1809C34.1999 44.1809 34.2714 44.1809 34.3428 44.1762C35.7999 44.0952 37.2285 43.8238 38.5999 43.3619C39.5618 43.0238 40.4428 42.5238 41.2142 41.8762C41.9523 41.319 42.5571 40.5666 42.9475 39.7047C43.2285 38.819 43.1952 37.9047 42.8618 37.0857C42.7809 36.7619 42.6333 36.4095 42.438 36.0857C42.1761 35.7381 41.8666 35.4809 41.5237 35.3047C41.2809 35.1905 41.0618 35.0571 40.8618 34.9143C40.7142 34.7952 40.6333 34.6524 40.619 34.4809C40.5714 33.919 41.2428 33.1381 41.6856 32.619C41.7952 32.4905 41.8999 32.3714 41.9809 32.2666C42.4333 31.7 42.7618 31.0571 42.9571 30.3524C43.1476 29.6524 43.1952 28.9285 43.0904 28.2095C42.7095 26.6047 41.938 25.1381 40.8571 23.9285C40.5237 23.5 40.0237 23.2 39.4618 23.1H39.438C39.438 23.1 39.3047 23.0905 39.2475 23.0905C38.938 23.0905 38.6285 23.1333 38.3333 23.219C37.8952 23.3143 37.4856 23.3619 37.1428 23.3619C36.6666 23.3619 36.338 23.2666 36.1952 23.0857C36.0761 22.9381 36.0571 22.6952 36.1333 22.3619L36.1809 22.1714C36.419 21.1666 36.6666 20.1238 36.0809 19.019C35.7761 18.3809 35.3618 17.7952 34.8523 17.2857C34.2285 16.7619 33.5047 16.4285 32.7333 16.3047C32.5714 16.2762 32.4095 16.2666 32.2476 16.2666C31.1809 16.2666 30.1142 16.8619 29.1666 17.9857C28.7809 18.4381 28.4856 18.9524 28.2904 19.5095C28.119 20.1333 28.0285 20.7476 28.0142 21.3619C27.8999 22.7047 27.6999 23.4952 27.0285 23.4952C26.8952 23.4952 26.7428 23.4666 26.5761 23.4143L26.4666 23.3619C25.7809 23.0571 25.1904 22.7952 24.5475 22.7952L24.5428 22.7905ZM36.8523 28.2905C36.738 28.2762 36.6237 28.2285 36.5237 28.1619C36.4285 28.0952 36.3475 28.0047 36.2952 27.9047C36.238 27.7952 36.2095 27.6809 36.2047 27.5666C36.2285 27.2762 36.2809 27.0381 36.3571 26.8095C36.4095 26.5857 36.4761 26.4238 36.5761 26.2809C36.6047 26.2476 36.6476 26.2143 36.6618 26.2143C36.7285 26.2143 36.8999 26.3 37.0952 26.5381C37.4904 27.019 37.7095 27.6 37.619 27.919C37.5999 27.9809 37.5571 28.1428 37.2142 28.2571C37.1285 28.2857 37.0428 28.3 36.9618 28.3C36.9285 28.3 36.8952 28.3 36.8618 28.2952L36.8523 28.2905Z"
          fill="#471A03"
        />
        <path
          d="M37.9473 31.3095C37.9997 30.3762 36.5616 30.3143 36.4664 31.2048C36.395 32.2524 37.8664 32.2905 37.9473 31.3095Z"
          fill="#471A03"
        />
        <path
          d="M40.1333 29.0285C40.219 28.3 39 28.0952 38.9095 28.8714C38.7809 29.6857 40.0524 29.9143 40.1333 29.0285Z"
          fill="#471A03"
        />
        <defs>
          <clipPath id="clip0_515_4128">
            <rect width="58" height="58" fill="white" transform="translate(3 3)" />
          </clipPath>
        </defs>
      </svg>
    </button>

  </div>

  {{-- Objectives --}}
  <div class="absolute top-4 right-4 z-10 flex flex-col gap-2 w-85">

    {{-- Global compliance --}}
    <div class="flex items-center justify-between w-full px-2 py-1.5 bg-white rounded-md">

      <div class="progress-container relative">

        {{-- Progress bar --}}
        <div class="circular-progress-bar" id="main-progress-bar">
          <div class="circular-progress-bar-inner">
            <span class="completion-text" id="complete-text">
              0
            </span>
            <span class="percent-symbol">%</span>
          </div>
        </div>

        {{-- 100% Svg --}}
        <div id="completion-success-icon" class="hidden">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect y="0.0118408" width="48" height="48" rx="24" fill="#FFC300" />
            <g opacity="0.7" clip-path="url(#clip0_607_4669)">
              <path
                d="M38.9064 7.81075C38.9064 8.29633 38.6872 8.689 38.1999 8.689C37.7126 8.689 37.3164 8.29633 37.3164 7.81075C37.3164 7.32517 37.7126 6.7572 38.1999 6.7572C38.6872 6.7572 38.9064 7.32517 38.9064 7.81075Z"
                fill="#482300"
              />
              <path
                d="M24 46.0118C20.7535 46.0118 17.6279 45.3212 14.7074 43.9591C10.9052 42.264 9.77801 40.0534 9.46773 38.6248C8.90677 38.4197 8.27745 38.0918 7.60606 37.5835C6.18263 36.5071 4.89769 34.8663 3.78454 32.7067L3.76876 32.6734C2.59602 29.9317 2 27.0182 2 24.0118C2 11.8812 11.8693 2.01184 24 2.01184C27.2588 2.01184 30.3967 2.70778 33.3241 4.08037C33.5871 4.20308 33.701 4.51686 33.5766 4.77981C33.4521 5.04276 33.1401 5.1567 32.8771 5.03224C30.0899 3.72626 27.1028 3.06363 23.9982 3.06363C12.4496 3.06363 3.05179 12.4614 3.05179 24.0118C3.05179 26.8692 3.61626 29.6372 4.7294 32.2404C6.37371 35.4255 8.08462 36.8262 9.36781 37.4345C9.44494 36.1583 10.1058 35.1451 11.0524 34.8506C11.8693 34.5981 12.7143 34.9365 13.3716 35.7814C13.8309 36.3704 13.9256 37.0558 13.6346 37.6624C13.2647 38.4337 12.3374 38.921 11.2172 38.9368C11.0454 38.9385 10.8508 38.9315 10.637 38.9052C11.0489 40.0745 12.1743 41.6732 15.1439 42.9967C17.9312 44.2974 20.9077 44.9548 24 44.9548C35.5504 44.9548 44.9482 35.557 44.9482 24.0066C44.9482 20.0448 43.8368 16.19 41.7367 12.8541C41.5825 12.6087 41.6561 12.2844 41.9015 12.1283C42.1469 11.9741 42.4712 12.0477 42.6273 12.2931C44.8343 15.7956 46.0018 19.8467 46.0018 24.0048C46.0018 36.1355 36.1324 46.0048 24.0018 46.0048L24 46.0118ZM10.4161 37.8008C10.7579 37.8762 11.0279 37.892 11.2032 37.8885C11.9114 37.878 12.4934 37.6115 12.6862 37.2101C12.8317 36.9068 12.6862 36.6176 12.5407 36.43C12.3216 36.1478 11.8763 35.6973 11.3645 35.8568C10.8561 36.0146 10.4652 36.693 10.4178 37.5046C10.4126 37.5835 10.4108 37.6834 10.4161 37.8008Z"
                fill="#482300"
              />
            </g>
            <path
              d="M33.501 30.5119C33.921 29.6685 37.1677 18.5119 34.501 16.1785C32.501 15.5119 28.6377 20.5352 28.6377 20.5352C28.6377 20.5352 26.5143 12.8452 22.8343 12.8452C20.501 12.8452 17.501 17.5119 17.501 17.8452C14.8343 15.5119 12.1677 12.8452 10.6677 17.7985C8.83433 23.8452 11.1677 32.1419 14.751 33.3519C19.1677 34.8419 31.8343 33.8419 33.501 30.5085V30.5119Z"
              fill="white"
              fill-opacity="0.5"
            />
            <path
              d="M23.6093 34.0218C22.4993 34.0218 21.3426 33.9418 20.1526 33.7718C18.2993 33.5051 15.1059 32.7685 14.5093 30.8085C12.9893 25.6951 11.6493 19.9651 12.0826 18.6718L12.1093 18.6085C12.1726 18.4818 12.3326 18.2618 12.7093 18.1951C13.8226 18.0018 16.6859 19.4018 18.8059 21.0918C19.1193 20.2385 19.4426 19.5118 19.6393 19.0918C20.0259 18.2585 22.0359 14.0985 23.5293 14.0051H23.5659H23.6026C25.1393 14.1418 27.6293 16.7751 28.8926 19.4751C30.6793 17.6851 32.7559 16.1585 33.8059 15.7785C34.3393 15.5851 34.7359 15.6318 34.9759 15.9151C36.1793 17.3185 36.1093 20.6718 35.8393 23.2385C35.5426 26.0785 34.8459 29.0918 34.2226 30.2518L34.2026 30.2885C32.8693 32.3218 28.7726 34.0218 23.6126 34.0218H23.6093ZM15.4426 30.5251C15.7559 31.5485 17.6126 32.4218 20.2926 32.8051C25.1793 33.5051 31.5893 32.4518 33.3726 29.7651C34.4726 27.6851 35.9426 18.8385 34.3059 16.6351C33.6226 16.7318 31.2193 18.4551 29.2859 20.4351C30.1559 22.9218 29.6859 25.1251 28.7493 26.0351C28.2459 26.5285 27.5926 26.6651 26.9626 26.4118C26.1259 26.0785 25.6759 25.4318 25.6893 24.5951C25.7093 23.3718 26.7793 21.7551 28.1626 20.2318C27.0293 17.5518 24.5959 15.1385 23.5593 14.9785C23.0259 15.1085 21.4026 17.3185 20.0826 20.4818C19.8993 20.9218 19.7326 21.3518 19.5893 21.7618C19.6293 21.7985 19.6659 21.8318 19.7026 21.8685C21.8693 23.9285 22.0193 25.3151 21.7659 26.1151C21.5426 26.8185 20.9259 27.2918 20.0726 27.4118C19.1026 27.5518 18.5826 27.1518 18.3159 26.7951C17.5659 25.7818 17.9159 23.8118 18.4659 22.0651C16.3493 20.2818 13.6859 19.1385 12.9726 19.1351C12.8659 20.1418 13.5259 24.0751 15.4426 30.5185V30.5251ZM19.2593 22.8018C18.7826 24.4651 18.7126 25.7251 19.1059 26.2351C19.2093 26.3651 19.4026 26.5318 19.9359 26.4585C20.2093 26.4185 20.6959 26.2851 20.8393 25.8285C21.0593 25.1351 20.4726 24.0185 19.2593 22.8051V22.8018ZM28.5193 21.2618C27.6126 22.3018 26.9093 23.3618 26.7059 24.2518C26.5593 24.9051 26.7426 25.2818 27.3193 25.5151C27.4926 25.5851 27.7593 25.6418 28.0659 25.3451C28.7126 24.7151 29.0126 23.0785 28.5193 21.2651V21.2618Z"
              fill="#471A03"
            />
            <defs>
              <clipPath id="clip0_607_4669">
                <rect width="44" height="44" fill="white" transform="translate(2 2.01184)" />
              </clipPath>
            </defs>
          </svg>
        </div>

      </div>
      {{-- Text --}}
      <div class="flex flex-col">
        <p class="text-sm">
          Map chicken compliance
        </p>
        <p id="completion-comment" class="font-bold">
        </p>
      </div>
      {{-- See more btn --}}
      <button
        id="see-all-btn"
        class="arrow-btn expanded"
        type="button"
        aria-label="Hide objectives"
        aria-expanded="true"
      >
        <svg width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M6.47869 9.99992C4.03835 9.99992 0.227624 2.42975 0.190983 2.34914C-0.0288673 1.89479 0.161669 1.34516 0.616026 1.12531C1.07038 0.905463 1.62001 1.096 1.83986 1.55036C3.29819 4.56963 5.71654 7.83806 6.52266 8.16051C7.32877 8.03593 8.77978 4.59894 9.40269 3.11129C9.65918 2.50304 9.90835 1.91677 10.1502 1.37448C10.3554 0.912791 10.8977 0.707598 11.3594 0.912791C11.821 1.11798 12.0262 1.66028 11.821 2.12197C11.5792 2.6496 11.3374 3.22854 11.0882 3.82214C9.75445 6.9953 8.49398 9.99259 6.47869 9.99259V9.99992Z"
            fill="#471A03"
          />
        </svg>
      </button>
    </div>

    {{-- Current + all container --}}
    <div id="all-objectives" class="w-full">
      {{-- Current objective and tooltip --}}
      <div class="w-full relative">

        {{-- Current tool objectives container --}}
        <div id="current-objectives-container">

          {{-- Template for objective that will be cloned --}}
          <template id="objective-template">
            <div class="objective-item bg-white rounded-t-md w-full">
              <div class="p-4 flex flex-col">

                {{-- Above bar info --}}
                <div class="flex justify-between mb-2">
                  <div class="flex gap-2">
                    {{-- Current objective icon --}}
                    <div class="current-objective-icon">
                    </div>
                    <div class="flex flex-col text-sm leading-none self-center">
                      {{-- Current objective name --}}
                      <p>
                        <strong class="objective-name capitalize"></strong>
                      </p>
                      <p>
                        <span class="font-bold current-value"></span>
                        /
                      <span class="objective-target"></span>
                        <span class="objective-unit"></span>
                      </p>
                    </div>
                  </div>

                  <div class="flex items-center gap-1">
                    {{-- Info hover (i) --}}
                    <div class="info-icon h-6 cursor-help p-1">
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        aria-label="Objective information"
                      >
                        <path
                          d="M8.36599 4.01745e-06C4.60233 -0.00399598 1.13752 2.97947 0.605894 6.70916C-0.190387 11.3772 3.61164 15.7213 8.39539 15.1389C12.2904 14.7235 15.3149 11.112 15.2675 7.23147C15.3768 3.47128 12.1454 0.031129 8.36599 4.01745e-06ZM7.50196 13.4482C5.58911 13.4379 3.8178 12.2571 2.87939 10.6305C2.23639 9.51869 2.15986 8.0966 2.33914 6.85178C3.23736 0.886379 11.703 -0.283215 13.3617 5.848C14.3354 9.49041 11.3408 13.5821 7.50196 13.4482ZM9.22071 10.2299C8.28239 9.95178 8.46243 8.70907 8.43102 7.93816C8.41755 6.96422 8.59074 6.47925 8.07408 6.06188C7.8826 5.94504 7.66045 5.88841 7.4364 5.89931C7.21236 5.9102 6.99675 5.98814 6.81752 6.123C6.58858 6.34657 6.62571 6.62141 6.60055 6.91153C6.48749 8.15546 6.55915 9.40928 6.81321 10.6322C6.95605 11.5612 7.45561 11.9753 8.38946 11.9953C8.80724 12.0043 9.29911 11.9553 9.56064 11.5713C9.63901 11.4456 9.69107 11.3053 9.71368 11.159C9.73629 11.0126 9.72897 10.8631 9.69217 10.7197C9.62827 10.4208 9.52808 10.2906 9.22071 10.2299ZM6.95318 5.18497C7.14233 5.26332 7.34659 5.29846 7.55106 5.28785C7.75553 5.27724 7.95505 5.22113 8.13508 5.12363C8.36833 4.90363 8.40021 4.31425 8.36733 3.70713C8.34155 3.23138 7.73296 3.04529 7.28342 3.07635C6.6948 3.11697 6.52283 3.61803 6.54418 4.08482C6.55821 4.39032 6.6158 5.0245 6.95318 5.18497Z"
                          fill="#3B1502"
                        />
                      </svg>
                    </div>

                    {{-- Completion crown --}}
                    <div class="hidden completion-crown">
                      <svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect y="0.5" width="32" height="32" rx="16" fill="#FFC300" />
                        <path
                          d="M15.5162 24.2C14.6579 24.2 13.8495 24.1417 13.1329 24.0417C11.6829 23.8333 9.18285 23.2417 8.69119 21.6083C8.31619 20.325 6.44952 13.9 6.91619 12.4833L6.95785 12.3833C7.03285 12.225 7.23285 11.95 7.67452 11.875C8.57452 11.7167 10.5162 12.6583 12.0329 13.7667C12.1912 13.3667 12.3495 13.0167 12.4745 12.75C13.1412 11.3083 14.4495 8.87502 15.6495 8.80835H15.7079H15.7662C16.9245 8.91668 18.6662 10.625 19.7079 12.5417C20.9579 11.3583 22.3162 10.4 23.0745 10.125C23.7995 9.86668 24.1912 10.1417 24.3495 10.3333C26.0912 12.3667 24.7245 19.625 23.8412 21.2583C22.4329 23.4083 18.6995 24.1917 15.5329 24.1917L15.5162 24.2ZM10.0995 21.175C10.2495 21.6667 11.3079 22.2917 13.3412 22.575C16.8079 23.0667 21.3412 22.3583 22.5579 20.5083C23.3245 19.0833 24.1829 13.3167 23.3829 11.575C22.7412 11.875 21.4329 12.875 20.3079 13.9917C20.8245 15.675 20.6079 17.4333 19.7495 18.275C19.2662 18.7417 18.6412 18.875 18.0329 18.6334C17.2745 18.3334 16.8495 17.7167 16.8579 16.9417C16.8745 15.9917 17.6162 14.7917 18.5995 13.6667C17.7912 11.925 16.3329 10.5417 15.7329 10.3083C15.1495 10.725 13.9329 12.8167 13.1995 14.75C14.8495 16.35 14.9412 17.4917 14.7245 18.175C14.5162 18.825 13.9412 19.275 13.1745 19.3833C12.2329 19.5167 11.7412 19.0667 11.5245 18.7833C10.9245 17.975 11.1162 16.55 11.4995 15.225C10.3495 14.3083 9.00785 13.6333 8.29952 13.4167C8.38285 14.5083 8.91619 17.2333 10.0912 21.175H10.0995ZM12.7079 16.3833C12.5912 16.95 12.5579 17.4417 12.6662 17.7917C12.7079 17.925 12.7162 17.9667 12.9662 17.925C13.0579 17.9083 13.2745 17.8667 13.3162 17.725C13.3745 17.5417 13.2829 17.0833 12.6995 16.3833H12.7079ZM19.0829 15.3667C18.6662 15.925 18.3829 16.4584 18.3329 16.8917C18.3162 17.075 18.3329 17.1583 18.5745 17.2583C18.6245 17.275 18.6412 17.2833 18.7162 17.2167C18.9829 16.9583 19.1745 16.2583 19.0912 15.375L19.0829 15.3667Z"
                          fill="#3B1502"
                        />
                      </svg>
                    </div>
                  </div>
                </div>

                {{-- Progress bar --}}
                <div class="w-full bg-bamboo-100 rounded-full h-2">
                  <div
                    class="objective-progress-bar h-2 rounded-full transition-all duration-300 ease-in-out"
                    style="width: 0%"
                  >
                  </div>
                </div>

                {{-- See more / less link --}}
                <button class="link see-more-btn self-start mt-2 text-sm cursor-pointer">
                  <span class="see-less-targets hidden">
                    See less targets
                </span>
                  <span class="see-more-targets">
                    See more targets
                </span>
                </button>

              </div>

            </div>
          </template>
        </div>

        {{-- Tooltip shared for all objectives --}}
        <div
          id="objective-tooltip"
          class="tooltip-content opacity-0 invisible absolute right-full mr-4 top-0 p-2 transition-opacity duration-300 w-64 bg-white rounded-md z-20"
        >
          <p class="text-sm mb-2" id="objective-description">
            Description of the objective will appear here.
          </p>
          <div
            class="tooltip-arrow absolute right-0 top-1/4 transform translate-x-1/2 rotate-45 w-3 h-3 bg-white"
          >
          </div>
        </div>
      </div>

      {{-- All objectives list --}}
      <div
        id="more-objectives"
        class="w-full hidden bg-white p-3 border-t-1 border-bamboo-0 rounded-b-md space-y-4"
      >

        @each(objective in plan.objectives)

          <div class="objective-item" data-objective-name="{{ objective.name }}">

            <p id="{{ objective.name }}" class="hidden objective-completion">
              {{ objective.$extras.pivot_completion_percentage }}
            </p>
            {{-- Name target and completion % --}}
            {{-- Above bar info --}}
            <div class="flex justify-between mb-1">

              <div class="flex gap-2">

                {{-- Current objective icon --}}
                <div class="current-objective-icon">
                </div>

                <div class="flex flex-col text-sm self-center leading-none">

                  {{-- Current objective name --}}
                  <p class="flex gap-2">
                    <strong class="objective-name capitalize">{{ objective.name }}</strong>
                  </p>

                  {{-- Current value / target --}}
                  <p>
                    <span class="font-bold current-value">{{ (objective.$extras.pivot_completion_percentage * objective.$extras.pivot_target_value )/100 }} </span>
                    /
                  <span class="objective-target">{{ objective.$extras.pivot_target_value }}</span>
                    <span class="objective-unit">{{ objective.unit }}</span>
                  </p>

                </div>
              </div>

              <div class="flex items-center gap-1">
                {{-- Info hover (i) --}}
                <div class="info-icon h-6 cursor-help p-1">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    aria-label="Objective information"
                  >
                    <path
                      d="M8.36599 4.01745e-06C4.60233 -0.00399598 1.13752 2.97947 0.605894 6.70916C-0.190387 11.3772 3.61164 15.7213 8.39539 15.1389C12.2904 14.7235 15.3149 11.112 15.2675 7.23147C15.3768 3.47128 12.1454 0.031129 8.36599 4.01745e-06ZM7.50196 13.4482C5.58911 13.4379 3.8178 12.2571 2.87939 10.6305C2.23639 9.51869 2.15986 8.0966 2.33914 6.85178C3.23736 0.886379 11.703 -0.283215 13.3617 5.848C14.3354 9.49041 11.3408 13.5821 7.50196 13.4482ZM9.22071 10.2299C8.28239 9.95178 8.46243 8.70907 8.43102 7.93816C8.41755 6.96422 8.59074 6.47925 8.07408 6.06188C7.8826 5.94504 7.66045 5.88841 7.4364 5.89931C7.21236 5.9102 6.99675 5.98814 6.81752 6.123C6.58858 6.34657 6.62571 6.62141 6.60055 6.91153C6.48749 8.15546 6.55915 9.40928 6.81321 10.6322C6.95605 11.5612 7.45561 11.9753 8.38946 11.9953C8.80724 12.0043 9.29911 11.9553 9.56064 11.5713C9.63901 11.4456 9.69107 11.3053 9.71368 11.159C9.73629 11.0126 9.72897 10.8631 9.69217 10.7197C9.62827 10.4208 9.52808 10.2906 9.22071 10.2299ZM6.95318 5.18497C7.14233 5.26332 7.34659 5.29846 7.55106 5.28785C7.75553 5.27724 7.95505 5.22113 8.13508 5.12363C8.36833 4.90363 8.40021 4.31425 8.36733 3.70713C8.34155 3.23138 7.73296 3.04529 7.28342 3.07635C6.6948 3.11697 6.52283 3.61803 6.54418 4.08482C6.55821 4.39032 6.6158 5.0245 6.95318 5.18497Z"
                      fill="#3B1502"
                    />
                  </svg>
                </div>

                {{-- Completion crown --}}
                <div class="hidden completion-crown">
                  <svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect y="0.5" width="32" height="32" rx="16" fill="#FFC300" />
                    <path
                      d="M15.5162 24.2C14.6579 24.2 13.8495 24.1417 13.1329 24.0417C11.6829 23.8333 9.18285 23.2417 8.69119 21.6083C8.31619 20.325 6.44952 13.9 6.91619 12.4833L6.95785 12.3833C7.03285 12.225 7.23285 11.95 7.67452 11.875C8.57452 11.7167 10.5162 12.6583 12.0329 13.7667C12.1912 13.3667 12.3495 13.0167 12.4745 12.75C13.1412 11.3083 14.4495 8.87502 15.6495 8.80835H15.7079H15.7662C16.9245 8.91668 18.6662 10.625 19.7079 12.5417C20.9579 11.3583 22.3162 10.4 23.0745 10.125C23.7995 9.86668 24.1912 10.1417 24.3495 10.3333C26.0912 12.3667 24.7245 19.625 23.8412 21.2583C22.4329 23.4083 18.6995 24.1917 15.5329 24.1917L15.5162 24.2ZM10.0995 21.175C10.2495 21.6667 11.3079 22.2917 13.3412 22.575C16.8079 23.0667 21.3412 22.3583 22.5579 20.5083C23.3245 19.0833 24.1829 13.3167 23.3829 11.575C22.7412 11.875 21.4329 12.875 20.3079 13.9917C20.8245 15.675 20.6079 17.4333 19.7495 18.275C19.2662 18.7417 18.6412 18.875 18.0329 18.6334C17.2745 18.3334 16.8495 17.7167 16.8579 16.9417C16.8745 15.9917 17.6162 14.7917 18.5995 13.6667C17.7912 11.925 16.3329 10.5417 15.7329 10.3083C15.1495 10.725 13.9329 12.8167 13.1995 14.75C14.8495 16.35 14.9412 17.4917 14.7245 18.175C14.5162 18.825 13.9412 19.275 13.1745 19.3833C12.2329 19.5167 11.7412 19.0667 11.5245 18.7833C10.9245 17.975 11.1162 16.55 11.4995 15.225C10.3495 14.3083 9.00785 13.6333 8.29952 13.4167C8.38285 14.5083 8.91619 17.2333 10.0912 21.175H10.0995ZM12.7079 16.3833C12.5912 16.95 12.5579 17.4417 12.6662 17.7917C12.7079 17.925 12.7162 17.9667 12.9662 17.925C13.0579 17.9083 13.2745 17.8667 13.3162 17.725C13.3745 17.5417 13.2829 17.0833 12.6995 16.3833H12.7079ZM19.0829 15.3667C18.6662 15.925 18.3829 16.4584 18.3329 16.8917C18.3162 17.075 18.3329 17.1583 18.5745 17.2583C18.6245 17.275 18.6412 17.2833 18.7162 17.2167C18.9829 16.9583 19.1745 16.2583 19.0912 15.375L19.0829 15.3667Z"
                      fill="#3B1502"
                    />
                  </svg>
                </div>
              </div>
            </div>

            {{-- Progress bar --}}
            <div class="w-full bg-bamboo-100 rounded-full h-2">
              <div
                class="h-2 rounded-full objective-progress-bar transition-all duration-300 ease-in-out"
                style="width: {{ objective.$extras.pivot_completion_percentage }}%"
                data-objective-name="{{ objective.name }}"
              >
              </div>
            </div>

          </div>

        @end
      </div>
    </div>
  </div>

  {{-- Scale --}}
  <div class="absolute bottom-4 left-4 z-10 flex">
    <div class="scale-container flex items-center gap-3">
      <p class="text-xs text-bamboo-950">
        <span id="scale-number">1</span>
        <span id="scale-unit">m</span>
      </p>
      <div class="flex">
        <div id="scale-bar" class="h-0.5 bg-bamboo-950">
        </div>
      </div>
    </div>
  </div>

  {{-- Guidance messages --}}
  <div
    class="guidance-message text-sm p-2 absolute top-4 left-1/2 -translate-x-1/2 border-1 rounded-md z-10 bg-white"
  >
    @if(plan.isEnclosed)
      Enclosure complete! You can now place elements
    @else
      Complete the enclosure before placing elements
    @endif
  </div>

  {{-- Controls --}}
  <div class="absolute bottom-4 right-4 z-10 flex justify-center items-center space-x-8">
    {{-- Zoom controls --}}
    <div class="zoom-controls flex items-center gap-4">
      <div class="bg-white flex items-center p-1 rounded-md">
        <button id="zoomIn" class="btn btn-sm px-2 py-1 h-8">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M16.8963 9.24376C16.6863 8.77133 16.1314 8.56136 15.6589 8.77883C15.1265 9.01879 13.3793 9.18377 11.3096 9.22126C11.2421 6.29671 10.7547 3.88957 10.3198 3.01971C10.0873 2.55478 9.52487 2.36731 9.05995 2.59977C8.59502 2.83224 8.40754 3.39465 8.64001 3.85958C8.96246 4.50448 9.3749 6.61166 9.43489 9.22126C7.52268 9.18377 5.55798 9.03379 4.14819 8.74133C3.63827 8.62885 3.14335 8.9588 3.03836 9.46872C2.93338 9.97865 3.25583 10.4736 3.76575 10.5786C5.23553 10.886 7.32771 11.0585 9.41989 11.1035C9.3449 12.7982 9.10494 14.5979 8.58752 16.2927C8.43754 16.7876 8.715 17.3125 9.20992 17.4625C9.29991 17.4925 9.38989 17.5 9.47988 17.5C9.88482 17.5 10.2523 17.2375 10.3797 16.8326C10.9497 14.9579 11.2121 12.9707 11.2946 11.1035C13.5893 11.066 15.6214 10.856 16.4313 10.4886C16.9038 10.2786 17.1137 9.72369 16.8963 9.25126V9.24376Z"
              fill="#471A03"
            />
          </svg>
        </button>
        <span id="zoomLevel" class="mx-2">100%</span>
        <button id="zoomOut" class="btn btn-sm px-2 py-1 h-8">
          <svg width="16" height="3" viewBox="0 0 16 3" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M1.2418 2.66666C0.663061 2.66666 0.201747 2.20534 0.193359 1.6266C0.193359 1.04786 0.654673 0.578162 1.23341 0.569774C2.36573 0.561387 3.53998 0.477511 4.78972 0.385248C7.69181 0.183948 10.9797 -0.0509024 14.9219 0.553C15.4922 0.636875 15.8864 1.17368 15.7942 1.75242C15.7103 2.32277 15.1651 2.71698 14.5947 2.62472C10.8875 2.05437 7.72536 2.27244 4.93231 2.47374C3.64902 2.56601 2.44122 2.64988 1.2418 2.65827H1.23341L1.2418 2.66666Z"
              fill="#471A03"
            />
          </svg>
        </button>
      </div>
      {{-- Reset emplacement --}}
      <div class="bg-white flex justify-center items-center rounded-full">
        <button id="resetView" class="btn btn-sm px-2 py-1 h-8">
          <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M21.0889 11.0254C20.6401 10.7085 19.8938 10.7656 19.2443 10.7812C19.0986 10.0508 18.895 9.33307 18.6356 8.63486C18.3068 7.75182 17.8324 6.93013 17.2319 6.20396C16.0813 4.76344 14.4312 3.80815 12.6091 3.5277C12.3447 3.47235 12.0776 3.43072 11.8089 3.40297C11.7414 2.51445 11.9602 1.11052 11.0609 0.991722C10.453 0.911434 9.79885 0.933447 9.74369 1.68123C9.71005 2.28813 9.72301 2.89672 9.78246 3.50163C9.3479 3.60709 8.9246 3.75444 8.51849 3.94162C7.25075 4.53262 6.11261 5.36883 5.16974 6.402C3.87917 7.88529 2.99763 9.67944 2.61209 11.6074C2.09651 11.6334 1.58837 11.7414 1.10676 11.9272C0.314536 12.3508 0.493149 13.8538 1.25594 13.9248C1.70279 13.9663 2.07175 13.9767 2.52899 13.9871C2.62999 15.0147 2.87622 16.0227 3.26031 16.9811C4.08106 18.5716 5.47365 19.7922 7.15795 20.3975C8.12486 20.7459 9.13983 20.9427 10.1669 20.9809C10.2136 21.5888 10.1225 22.3491 10.5956 22.7969C11.032 23.2099 12.5193 23.1174 12.608 22.3551C12.5958 21.8508 12.5536 21.3477 12.4816 20.8484C13.6975 20.5054 15.5315 19.6342 16.3982 18.8193C17.7075 17.6017 18.6165 16.0155 19.0052 14.2703C19.0917 13.9399 19.1299 13.561 19.1923 13.148C19.2043 13.0679 19.3227 13.0205 19.4035 13.0142C19.8914 13.0038 20.3769 12.9441 20.8528 12.836C21.4853 12.6667 21.5978 11.385 21.0889 11.0254ZM15.6937 12.3808C15.821 12.9386 16.3061 13.0455 16.8047 13.1026C16.9333 13.1173 16.9906 13.1635 16.9707 13.4676C16.9012 13.9757 16.7768 14.4747 16.5997 14.956C16.3248 15.6721 15.9342 16.3383 15.4435 16.9281C14.8522 17.6096 13.3703 18.6895 12.2947 18.7596C12.2558 18.4558 12.2168 18.1049 12.1856 17.8009C12.116 17.1222 11.6257 17.0026 11.0166 17.0449C10.4554 17.0839 10.3463 17.458 10.2527 17.8116C10.184 18.1727 10.1552 18.5403 10.167 18.9077C9.52015 18.9934 8.45016 18.6891 7.95126 18.5112C7.25212 18.2653 6.61574 17.8683 6.08738 17.3486C5.55903 16.8288 5.15166 16.1991 4.89426 15.5041C4.7565 15.0269 4.70163 14.5296 4.73204 14.0339C5.61021 13.9767 6.17125 13.9819 6.57966 13.3432C6.71665 13.1241 6.7773 12.8658 6.75216 12.6085C6.67536 11.6801 6.09347 11.5658 4.88275 11.5035C4.92462 11.0642 5.03278 10.6338 5.20356 10.227C5.35452 9.86276 5.52762 9.5081 5.72189 9.165C5.89757 8.81502 6.09984 8.47904 6.32691 8.16C6.96822 7.33181 7.7812 6.65225 8.71 6.168C8.96597 6.03585 9.87175 5.56758 9.89166 5.78793C9.95916 6.53617 10.1268 6.91383 10.3979 7.02461C10.6053 7.10441 10.83 7.12851 11.0496 7.09449C11.2692 7.06046 11.4761 6.96952 11.6496 6.8307C11.9244 6.58597 11.9284 6.09971 11.9646 5.66846C12.5206 5.60096 13.5092 6.00502 13.9869 6.20763C15.6225 6.96202 16.5073 8.53833 16.9248 10.2188C16.9907 10.4356 17.0348 10.6584 17.0567 10.8839C16.7454 10.933 16.4381 11.0043 16.137 11.0972C15.6295 11.2815 15.5848 11.9033 15.6937 12.3808ZM11.2997 10.5682C10.9233 10.5507 10.5505 10.6495 10.2322 10.8514C9.91391 11.0533 9.66556 11.3483 9.52095 11.6964C9.37634 12.0445 9.34249 12.4286 9.42401 12.7966C9.50554 13.1646 9.69847 13.4985 9.97656 13.7529C10.9153 14.6834 12.407 13.9995 12.8309 12.9789C12.9434 12.7205 12.9908 12.4384 12.9689 12.1573C12.947 11.8763 12.8566 11.605 12.7054 11.367C12.5543 11.1291 12.3471 10.9318 12.1021 10.7926C11.857 10.6533 11.5815 10.5763 11.2997 10.5682Z"
              fill="#471A03"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>

  {{-- Element menu --}}
  <div
    id="elementMenu"
    class="hidden bg-white h-auto rounded-md p-2 z-20 absolute left-1/2 -translate-x-1/2 bottom-4"
  >
    <div class="flex gap-4 text-sm align-center">
      <button
        class="hidden px-3 h-10 border-1 border-bamboo-0 rounded-sm cursor-pointer hover:bg-bamboo-300 hover:border-bamboo-300 duration-300 upgrade-btn"
      >Upgrade</button>
      <button
        class="hidden px-3 h-10 border-1 border-bamboo-0 rounded-sm cursor-pointer hover:bg-bamboo-300 hover:border-bamboo-300 duration-300  downgrade-btn"
      >Downgrade</button>
      <button
        class="px-3 h-10 delete-btn flex gap-2 items-center border-1 border-bamboo-300 rounded-sm cursor-pointer hover:bg-bamboo-300 duration-300 "
      >
        <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M16.0365 3.60471C15.2103 3.58911 14.3784 3.55266 13.5892 3.54238C12.3941 3.52678 12.3525 3.63069 12.3525 3.28779C12.3728 2.83675 12.2824 2.3876 12.0893 1.97951C11.8961 1.57142 11.606 1.21679 11.2443 0.946557C10.6556 0.602923 9.98989 0.413017 9.3085 0.394346C8.62711 0.375675 7.95199 0.528839 7.34536 0.83972C6.3956 1.35347 6.00365 2.41618 5.94286 3.44841C5.94286 3.83994 5.69131 3.76982 5.17175 3.77619C4.47762 3.78471 3.69942 3.77691 3.00503 3.77619C2.39612 3.7543 1.78646 3.76565 1.17878 3.81021C0.630572 3.87358 0.414347 4.34421 0.448847 4.92969C0.493847 5.69297 0.807797 5.94009 1.15808 5.94291C1.62995 5.94666 2.18806 5.94197 2.38947 5.95071C2.77696 5.96747 2.72465 5.97407 2.75581 6.27804C2.80366 6.97071 2.93768 9.37742 3.00023 10.2669C3.18023 12.8244 3.48293 15.9576 3.73786 18.5067C3.80022 19.1302 3.99957 19.4259 4.87576 19.4732C7.41076 19.6099 11.7689 19.6341 14.3019 19.58C15.4899 19.5578 15.3869 19.195 15.4287 18.2105C15.4911 16.7453 15.5483 15.2909 15.5739 13.8838C15.5974 12.5866 15.6209 11.2894 15.6444 9.99216C15.6669 8.74978 15.6453 7.61908 15.7249 6.37937C15.7528 5.94557 15.8279 5.92431 16.5368 5.91715C17.4651 5.90781 17.5524 5.32341 17.5571 4.83714C17.566 3.90111 16.8392 3.61986 16.0365 3.60471ZM7.64607 3.23578C7.69804 2.86193 7.89224 2.52255 8.18822 2.28832C8.48419 2.05409 8.85912 1.94308 9.23491 1.97841C9.54144 2.01459 9.83008 2.14189 10.0635 2.34385C10.2969 2.54581 10.4644 2.81314 10.5443 3.11128C10.6379 3.61003 10.6177 3.68286 10.2949 3.68286C9.4532 3.68286 8.60405 3.74053 7.78006 3.66208C7.56185 3.64112 7.56785 3.51092 7.64607 3.23578ZM13.6191 13.6398C13.6004 14.8888 13.6229 16.1578 13.5053 17.4015C13.5053 17.6811 13.3709 17.6806 12.9812 17.6806C11.8095 17.6806 10.5339 17.6962 9.34928 17.665C8.41501 17.6404 7.09981 17.6372 6.15372 17.587C5.87 17.572 5.69783 17.5751 5.64597 17.2141C5.48915 16.1218 5.4092 15.0251 5.3189 13.924C5.1122 11.4034 4.87553 8.81106 4.6616 6.35466C4.61581 5.82932 4.58761 5.82639 4.9847 5.83378C5.67215 5.84657 8.56726 5.92629 9.25572 5.94291C10.5495 5.97407 12.4357 5.95847 13.2462 5.98967C13.6359 6.00467 13.6203 6.14556 13.6671 6.80023C13.7391 7.80823 13.6386 12.343 13.6191 13.6398ZM11.2041 7.29906C10.5495 7.34582 10.4151 7.32272 10.378 8.24991C10.2948 10.3215 10.378 12.973 10.3935 15.1087C10.4019 16.2535 10.2785 16.5074 11.2311 16.5527C12.3071 16.6617 12.1539 16.1922 12.217 15.3106C12.3603 12.897 12.3656 10.4772 12.2329 8.06293C12.1561 7.32538 11.7261 7.26174 11.2041 7.29906ZM8.46068 7.84461C8.39075 7.11017 7.49836 6.98083 6.87297 7.33719C6.46797 7.54315 6.56866 8.09927 6.54841 8.47768C6.50569 10.9447 6.64989 13.4115 6.97977 15.8568C7.05773 16.5115 7.40063 16.4959 7.93066 16.5115C8.06096 16.5193 8.19139 16.4984 8.31267 16.4501C8.43396 16.4018 8.54312 16.3274 8.63241 16.2322C8.72169 16.137 8.78891 16.0233 8.82927 15.8991C8.86963 15.775 8.88216 15.6435 8.86595 15.514C8.81285 13.6574 8.58256 10.7276 8.54214 8.87871C8.54127 8.62048 8.49185 8.17195 8.46068 7.84461Z"
            fill="#471A03"
          />
        </svg>
        Delete
      </button>
    </div>
  </div>

</main>
</body>
</html>
